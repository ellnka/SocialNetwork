{"version":3,"sources":["redux/messages-reducer.js","services/api.js","components/common/Preloader/Preloader.jsx","redux/navbar-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/hoc/withSuspense.js","components/Header/Header.jsx","components/Header/Auth.jsx","components/Header/HeaderContainer.jsx","components/Navbar/NavbarLogo.jsx","components/Navbar/NavbarSpacer.jsx","components/Navbar/NavbarItem.jsx","components/Navbar/Navbar.jsx","components/Navbar/NavbarContainer.jsx","components/common/FormControls/Input.jsx","components/Login/LoginFormFields.jsx","components/Login/LoginForm.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","App.js","index.js","redux/state.js","redux/posts-reducer.js","redux/profile-reducer.js","redux/users-reducer.js","components/common/FormControls/FormControl.jsx"],"names":["initState","state","messagesPage","sendMessageThunkCreator","message","dispatch","type","data","messagesReducer","action","id","messages","length","text","POSTS_URL","instance","Axios","create","withCredentials","baseURL","headers","API","currentPage","pageSize","get","email","password","rememberMe","post","delete","userId","status","put","Preloader","className","role","navbarPage","navbarReducer","setUserData","setIsFetching","isFetching","userData","isAuth","getAuthUser","a","response","resultCode","getAuthUserThunkCreator","authReducer","isInit","appReducer","reducers","combineReducers","profilePage","profileReducer","postsPage","postsReducer","usersPage","usersReducer","auth","app","form","FormReducer","composeEnhancers","composeWithDevTools","store","createStore","applyMiddleware","ThunkMiddleWare","window","reduxStore","withSuspense","Component","props","Suspense","fallback","Header","handleLogout","login","color","onClick","to","Auth","connect","logoutUser","NavbarLogo","logo","src","alt","logoText","NavbarSpacer","NavbarItem","url","item","link","charAt","Icon","icon","Feather","activeClassName","title","Navbar","menu","items","this","map","i","key","Input","FormControl","input","LoginFormInput","component","fieldName","placeholder","autocomplete","validate","required","autoFocus","label","htmlFor","Field","name","autoComplete","LoginFormCheckBox","LoginFormError","error","LoginFormButton","reduxForm","handleSubmit","onSubmit","Login","handleLoginUser","values","loginUser","stopSubmit","_error","ProfileContainer","React","lazy","PostsContainer","MessagesContainer","UsersContainer","App","initialize","NavbarContainer","tabIndex","path","render","compose","withRouter","promise","Promise","all","then","ReactDOM","document","getElementById","subscribe","dialogs","user","posts","newPostText","users","NEW_POST_FORM_NAME","setPosts","arePostsFetching","createNewPost","Date","toString","datetime","moment","format","putPosts","formName","reset","console","getPosts","getPostsThunkCreator","addNewPostThunkCreator","deletePostThunkCreator","postId","filter","stateCopy","setUserProfile","userProfile","setUserId","setIsAuthorizedProfile","isAuthorizedProfile","setStatus","isProfileFetching","getUserProfile","getUserProfileThunkCreator","getUserProfileStatusThunkCreator","getUserProfileStatus","changeUserProfileStatusThunkCreator","putUserProfileStatus","getAuthUserProfileThunkCreator","setUsers","setTotalUserCount","totalUserCount","setPageCount","pageCount","setCurrentPage","getUsersThunkCreator","getUsers","totalCount","Math","ceil","meta","isInvalid","touched","children"],"mappings":"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","file":"static/js/main.dbbc63f1.chunk.js","sourcesContent":["import state from './state'\r\n\r\nexport const SEND_MESSAGE = 'messages/SEND-MESSAGE'\r\nexport const EDIT_MESSAGE = 'messages/EDIT-MESSAGE'\r\n\r\nexport const sendMessage = data => ({ type: SEND_MESSAGE, data })\r\n\r\nconst initState = state.messagesPage\r\n\r\nexport const sendMessageThunkCreator = (message) => (dispatch) => {\r\n  dispatch(sendMessage(message))\r\n}\r\n\r\nconst messagesReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE: {\r\n      const message = {\r\n        id: state.messages.length,\r\n        text: action.data\r\n      }\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          message\r\n        ]\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default messagesReducer\r\n","import Axios from 'axios'\r\n\r\nexport const LOGIN = 'free@samuraijs.com'\r\nexport const PASSWORD = 'free'\r\nexport const PERSONAL_API_KEY = 'd03460cc-dd7f-425e-86ff-ef080fabbdfa'\r\nexport const BASE_URL = 'https://social-network.samuraijs.com/api/1.0/'\r\nexport const API_KEY = 'd0ce4cd8-d0d2-4152-99ad-f6e1407cb23f'\r\nexport const POSTS_URL = 'https://api.myjson.com/bins/gkloi'\r\n\r\nconst instance = Axios.create(\r\n  {\r\n    withCredentials: true,\r\n    baseURL: BASE_URL,\r\n    headers: {\r\n      'API-KEY': PERSONAL_API_KEY\r\n    }\r\n  }\r\n)\r\n\r\nexport default class API {\r\n  static getUsers (currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n  }\r\n\r\n  static getAuthUser () {\r\n    return instance.get('auth/me')\r\n  }\r\n\r\n  static loginUser (email, password, rememberMe) {\r\n    return instance.post('auth/login', {\r\n      email,\r\n      password,\r\n      rememberMe\r\n    })\r\n  }\r\n\r\n  static logoutUser () {\r\n    return instance.delete('auth/login')\r\n  }\r\n\r\n  static getUserProfile (userId) {\r\n    return instance.get(`profile/${userId}`)\r\n  }\r\n\r\n  static getUserProfileStatus (userId) {\r\n    return instance.get(`profile/status/${userId}`)\r\n  }\r\n\r\n  static putUserProfileStatus (status) {\r\n    return instance.put('profile/status/', { status })\r\n  }\r\n\r\n  static getUserFollow (userId) {\r\n    return instance.get(`follow/${userId}`)\r\n  }\r\n\r\n  static postUserFollow (userId) {\r\n    return instance.post(`follow/${userId}`, { userId })\r\n  }\r\n\r\n  static deleteUserFollow (userId) {\r\n    return instance.delete(`follow/${userId}`, { userId })\r\n  }\r\n\r\n  static getPosts () {\r\n    return Axios.get(POSTS_URL)\r\n  }\r\n\r\n  static putPosts (data) {\r\n    return Axios.put(POSTS_URL, { data })\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className='spinner-border' role='status'>\r\n      <span className='sr-only'>Loading...</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","import state from './state'\r\n\r\nconst initState = state.navbarPage\r\n\r\nconst navbarReducer = (state = initState, action = {}) => {\r\n  return state\r\n}\r\n\r\nexport default navbarReducer\r\n","import API from './../services/api'\r\nimport { stopSubmit } from 'redux-form'\r\n\r\nexport const LOGIN_FORM_NAME = 'login'\r\n\r\nexport const SET_USER_DATA = 'auth/SET-USER-DATA'\r\nexport const SET_IS_AUTH = 'auth/SET-IS-AUTH'\r\nexport const SET_IS_FETCHING = 'auth/SET-IS-FETCHING'\r\n\r\nexport const setUserData = data => ({ type: SET_USER_DATA, data })\r\nexport const setIsAuth = isAuth => ({ type: SET_IS_AUTH, isAuth })\r\nexport const setAuthIsFetching = isAuth => ({ type: SET_IS_AUTH, isAuth })\r\nexport const setIsFetching = isFetching => ({ type: SET_IS_FETCHING, isFetching })\r\n\r\nconst initState = {\r\n  userData: null,\r\n  isAuth: false,\r\n  isFetching: false\r\n}\r\n\r\nconst getAuthUser = async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n  try {\r\n    const response = await API.getAuthUser()\r\n    const resultCode = response.data && response.data.resultCode\r\n    if (resultCode === 0) {\r\n      dispatch(setUserData({ userData: response.data.data, isAuth: true }))\r\n    } else {\r\n      dispatch(setUserData({ userData: {}, isAuth: false }))\r\n    }\r\n  } finally {\r\n    dispatch(setIsFetching(false))\r\n  }\r\n}\r\n\r\nexport const getAuthUserThunkCreator = () => (dispatch) => {\r\n  getAuthUser(dispatch)\r\n}\r\n\r\nexport const loginUserThunkCreator = (email, password, rememberMe) => async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n\r\n  const response = await API.loginUser(email, password, rememberMe)\r\n  const resultCode = response.data && response.data.resultCode\r\n  if (resultCode === 0) {\r\n    getAuthUser(dispatch)\r\n  } else {\r\n    const error = response.data.messages.length ? response.data.messages[0] : 'Something wrong...'\r\n    dispatch(stopSubmit(LOGIN_FORM_NAME, { _error: error }))\r\n  }\r\n}\r\n\r\nexport const logoutUserThunkCreator = () => async (dispatch) => {\r\n  const response = await API.logoutUser()\r\n  const resultCode = response.data.resultCode\r\n  if (resultCode === 0) {\r\n    dispatch(setUserData({ userData: null, isAuth: false }))\r\n  }\r\n}\r\n\r\nconst authReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n      return { ...state, ...action.data }\r\n    }\r\n    case SET_IS_AUTH: {\r\n      return { ...state, isAuth: action.isAuth }\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import { getAuthUserThunkCreator } from './auth-reducer'\r\n\r\nexport const SET_INIT = 'app/SET-INIT'\r\n\r\nexport const setIsInit = isInit => ({ type: SET_INIT, isInit })\r\n\r\nconst initState = {\r\n  isInit: false\r\n}\r\n\r\nexport const initializeThunkCreator = () => (dispatch) => {\r\n  const promise = dispatch(getAuthUserThunkCreator())\r\n  Promise.all([promise]).then(\r\n    dispatch(setIsInit(true)))\r\n}\r\n\r\nconst appReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_INIT: {\r\n      return { ...state, isInit: action.isInit }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default appReducer\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport ThunkMiddleWare from 'redux-thunk'\r\nimport { reducer as FormReducer } from 'redux-form'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport profileReducer from './profile-reducer'\r\nimport navbarReducer from './navbar-reducer'\r\nimport postsReducer from './posts-reducer'\r\nimport messagesReducer from './messages-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  postsPage: postsReducer,\r\n  messagesPage: messagesReducer,\r\n  usersPage: usersReducer,\r\n  navbarPage: navbarReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: FormReducer\r\n})\r\n\r\n// const store = createStore(reducers, applyMiddleware(ThunkMiddleWare))\r\n\r\nconst composeEnhancers = composeWithDevTools({\r\n  // Specify name here, actionsBlacklist, actionsCreators and other options if needed\r\n})\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(\r\n  applyMiddleware(ThunkMiddleWare)\r\n  // other store enhancers if any\r\n))\r\nwindow.reduxStore = store\r\nexport default store\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Preloader from '../common/Preloader/Preloader'\r\n\r\nexport const withSuspense = (Component) => (props) => <React.Suspense fallback={<Preloader />}><Component {...props} /></React.Suspense>\r\n\r\nwithSuspense.propTypes = {\r\n  Component: PropTypes.object\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button, Navbar } from 'reactstrap'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Header = ({ userData, isAuth, handleLogout }) => (\r\n  <header className='app-header'>\r\n    <div className='login-box'>\r\n      <Navbar className='m1-auto top-nav'>\r\n        <nav className='nav'>\r\n          <li className='nav-item'><span className='nav-item-title'> {userData && userData.login} </span></li>\r\n        </nav>\r\n        <nav>\r\n          <li className='nav-item'>{isAuth && <Button color='secondary' onClick={handleLogout}>Logout</Button>}</li>\r\n        </nav>\r\n        <nav>\r\n          <li className='nav-item'>{!isAuth && <NavLink to='/login'>Login</NavLink>}</li>\r\n        </nav>\r\n      </Navbar>\r\n    </div>\r\n  </header>\r\n)\r\n\r\nHeader.propTypes = {\r\n  userData: PropTypes.object,\r\n  isAuth: PropTypes.bool,\r\n  handleLogout: PropTypes.func\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nconst Auth = () => {\r\n  return (\r\n    <div> </div>\r\n  )\r\n}\r\n\r\nexport default Auth\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  setUserData,\r\n  getAuthUserThunkCreator,\r\n  logoutUserThunkCreator\r\n} from '../../redux/auth-reducer'\r\nimport Header from './Header'\r\nimport Auth from './Auth'\r\n\r\nconst HeaderContainer = ({ userData, isAuth, logoutUser }) => (\r\n  <div>\r\n    <Auth userData={userData} handleLogout={logoutUser} />\r\n    <Header userData={userData} handleLogout={logoutUser} isAuth={isAuth} />\r\n  </div>)\r\n\r\nHeaderContainer.propTypes = {\r\n  userData: PropTypes.object,\r\n  isAuth: PropTypes.bool,\r\n  logoutUser: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userData: state.auth.userData,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n  setUserData,\r\n  getAuthUser: getAuthUserThunkCreator,\r\n  logoutUser: logoutUserThunkCreator\r\n})(HeaderContainer)\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst NavbarLogo = (props) => {\r\n  return (\r\n    <div className='site-logo-bar'>\r\n      <NavLink to='/' className='navbar-brand'>\r\n        {props.logo && <img src={props.logo} alt='' />}\r\n        {props.logoText && <span className='logo-text'>{props.logoText}</span>}\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nNavbarLogo.propTypes = {\r\n  logo: PropTypes.string,\r\n  logoText: PropTypes.string\r\n}\r\n\r\nexport default NavbarLogo\r\n","import React from 'react'\r\n\r\nconst NavbarSpacer = () => {\r\n  return <li className='nav-item nav-item-spacer' />\r\n}\r\n\r\nexport default NavbarSpacer\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport * as Feather from 'react-feather'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst NavbarItem = (props) => {\r\n  const url = props.item.link.charAt(0) === '/' ? props.item.link : `/${props.item.link}`\r\n  const Icon = props.item.icon && Feather[props.item.icon] ? Feather[props.item.icon] : null\r\n  return (\r\n    <li className='nav-item'>\r\n      <NavLink to={url} activeClassName='active'>\r\n        {props.item.icon && Icon && <Icon className='side-nav-icon' />}\r\n        <span className='nav-item-label'>{props.item.title}</span>\r\n      </NavLink>\r\n    </li>\r\n  )\r\n}\r\n\r\nNavbarItem.propTypes = {\r\n  item: PropTypes.object\r\n}\r\n\r\nexport default NavbarItem\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport NavbarLogo from './NavbarLogo'\r\nimport NavbarSpacer from './NavbarSpacer'\r\nimport NavbarItem from './NavbarItem'\r\n\r\n// const LOGO = './../../imgs/logo.png'\r\nconst LOGO = 'https://www.freelogodesign.org/Content/img/logo-ex-7.png'\r\nconst LOGO_TEXT = 'this is a logo'\r\n\r\nclass Navbar extends Component {\r\n  constructor (props) {\r\n    super()\r\n    this.state = {\r\n      menu: props.menu\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const items = this.state.menu.items.map((item, i) => (\r\n      <div key={i}>\r\n        <NavbarItem item={item} />\r\n        <NavbarSpacer />\r\n      </div>\r\n    ))\r\n    return (\r\n      <nav className='app-sidebar'>\r\n        <NavbarLogo logo={LOGO} logoText={LOGO_TEXT} />\r\n        {items}\r\n      </nav>\r\n    )\r\n  }\r\n};\r\n\r\nNavbar.propTypes = {\r\n  menu: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  menu: state.navbarPage.menu\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(Navbar)\r\n","import Navbar from './Navbar'\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapStateToProps = (state) => ({\r\n  menu: state.navbarPage.menu\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(Navbar)\r\n","import React from 'react'\r\nimport FormControl from './FormControl'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Input = (props) => (\r\n  <FormControl {...props}> <input {...props.input} {...props} /> </FormControl>\r\n)\r\n\r\nInput.propTypes = {\r\n  input: PropTypes.object\r\n}\r\n\r\nexport default Input\r\n","import React from 'react'\r\nimport { Field } from 'redux-form'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport const LoginFormInput = ({ component = 'input', fieldName, type = 'input', placeholder, autocomplete, validate, required, autoFocus, label = '' }) =>\r\n  (\r\n    <div className='form-group row'>\r\n      {label && <label htmlFor={fieldName} className='col-md-4 col-form-label text-md-right'>{label}</label>}\r\n      <div className='col-md-6'>\r\n        <Field\r\n          placeholder={placeholder}\r\n          component={component}\r\n          type={type}\r\n          name={fieldName}\r\n          autoComplete={autocomplete}\r\n          className='form-control'\r\n          validate={validate}\r\n          required={required}\r\n          autoFocus={autoFocus}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\nLoginFormInput.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType, PropTypes.object, PropTypes.string]),\r\n  fieldName: PropTypes.string,\r\n  type: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  autocomplete: PropTypes.string,\r\n  validate: PropTypes.array,\r\n  required: PropTypes.bool,\r\n  autoFocus: PropTypes.bool,\r\n  label: PropTypes.string\r\n}\r\n\r\nexport const LoginFormCheckBox = ({ component, fieldName, type = 'checkbox', label = '' }) => (\r\n  <div className='form-group row'>\r\n    <div className='col-md-6 offset-md-4'>\r\n      <div className='checkbox'>\r\n        <label>\r\n          <Field component={component} type={type} name={fieldName} /> {label}\r\n        </label>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\nLoginFormCheckBox.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType, PropTypes.object, PropTypes.string]),\r\n  fieldName: PropTypes.string,\r\n  type: PropTypes.string,\r\n  label: PropTypes.string\r\n}\r\n\r\nexport const LoginFormError = ({ error }) => (\r\n  <div className='form-group row'>\r\n    <div className='col-md-6 offset-md-4'>\r\n      <p className='text-danger'> {error} </p>\r\n    </div>\r\n  </div>\r\n)\r\nLoginFormError.propTypes = {\r\n  error: PropTypes.string\r\n}\r\n\r\nexport const LoginFormButton = ({ name }) => (\r\n  <div className='col-md-6 offset-md-4'>\r\n    <button type='submit' className='btn btn-primary'>\r\n      {name}\r\n    </button>\r\n  </div>\r\n)\r\nLoginFormButton.propTypes = {\r\n  name: PropTypes.string\r\n}\r\n","import React from 'react'\r\nimport { reduxForm } from 'redux-form'\r\nimport PropTypes from 'prop-types'\r\nimport Input from './../common/FormControls/Input'\r\n// import { required } from './../../utils/validators/validators'\r\nimport { LOGIN_FORM_NAME } from './../../redux/auth-reducer'\r\nimport { LoginFormInput, LoginFormCheckBox, LoginFormError, LoginFormButton } from './LoginFormFields'\r\n\r\nconst LoginForm = ({ error, handleSubmit }) => (\r\n  <form onSubmit={() => { handleSubmit() }}>\r\n\r\n    <LoginFormInput\r\n      component={Input}\r\n      fieldName='email'\r\n      type='input'\r\n      placeholder='Email'\r\n      autoComplete='current-email'\r\n      //    validate={[required]}\r\n      required\r\n      autoFocus\r\n      label='E-Mail Address'\r\n    />\r\n\r\n    <LoginFormInput\r\n      component={Input}\r\n      fieldName='password'\r\n      placeholder='Password'\r\n      type='password'\r\n      autoComplete='current-password'\r\n      //    validate={[required]}\r\n      required\r\n      autoFocus\r\n      label='Password'\r\n    />\r\n\r\n    <LoginFormCheckBox component='input' fieldName='rememberMe' type='checkbox' label='Remember Me' />\r\n\r\n    {error && <LoginFormError error={error} />}\r\n\r\n    <LoginFormButton name='Login' />\r\n\r\n  </form>)\r\n\r\nLoginForm.propTypes = {\r\n  error: PropTypes.string,\r\n  handleSubmit: PropTypes.func\r\n}\r\n\r\nexport default reduxForm({ form: LOGIN_FORM_NAME })(LoginForm)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport LoginFrom from './LoginForm'\r\n\r\nconst Login = ({ handleLoginUser }) => {\r\n  const handleLoginSubmit = (values) => {\r\n    if (values.email && values.password) {\r\n      handleLoginUser(values.email, values.password, !!values.rememberMe)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className='login-form'>\r\n      <div className='container'>\r\n        <div className='row justify-content-center'>\r\n          <div className='col-md-8'>\r\n            <div className='card'>\r\n              <div className='card-header'>Login</div>\r\n              <div className='card-body'>\r\n                <LoginFrom onSubmit={handleLoginSubmit} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n  handleLoginUser: PropTypes.func\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  setUserData,\r\n  getAuthUserThunkCreator,\r\n  loginUserThunkCreator\r\n} from '../../redux/auth-reducer'\r\nimport Login from './Login'\r\n// import { Redirect } from 'react-router-dom'\r\nimport Preloader from '../common/Preloader/Preloader'\r\n\r\nconst LoginContainer = ({ loginUser, isFetching, isAuth }) => {\r\n  if (isFetching) return <Preloader />\r\n\r\n  if (isAuth) return null\r\n  return <Login handleLoginUser={loginUser} />\r\n}\r\n\r\nLoginContainer.propTypes = {\r\n  isAuth: PropTypes.bool,\r\n  isFetching: PropTypes.bool,\r\n  loginUser: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userData: state.usersPage.userData,\r\n  isAuth: state.auth.isAuth,\r\n  isFetching: state.auth.isFetching\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n  setUserData,\r\n  getAuthUser: getAuthUserThunkCreator,\r\n  loginUser: loginUserThunkCreator\r\n})(LoginContainer)\r\n","import React from 'react'\nimport { Route, withRouter } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n// import './App.css'\nimport './scss/styles.scss'\nimport { compose } from 'redux'\nimport { connect } from 'react-redux'\nimport { initializeThunkCreator } from './redux/app-reducer'\nimport { withSuspense } from './components/hoc/withSuspense'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport NavbarContainer from './components/Navbar/NavbarContainer'\nimport LoginContainer from './components/Login/LoginContainer'\nimport Preloader from './components/common/Preloader/Preloader'\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst PostsContainer = React.lazy(() => import('./components/Posts/PostsContainer'))\nconst MessagesContainer = React.lazy(() => import('./components/Messages/MessagesContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\n\nclass App extends React.Component {\n  componentDidMount () {\n    this.props.initialize()\n  }\n\n  render () {\n    if (!this.props.isInit) {\n      return <Preloader />\n    }\n\n    return (\n      <React.Suspense fallback={<Preloader />}>\n        <div className='app-body'>\n          <NavbarContainer />\n          <div className='page-content'>\n            <HeaderContainer />\n            <div className='primary-content' role='main' tabIndex='-1'>\n              <Route path='/login' render={() => <LoginContainer />} />\n              <Route path='/profile/:userId' render={withSuspense(ProfileContainer)} />\n              <Route path='/myprofile/' render={withSuspense(ProfileContainer)} />\n              <Route path='/posts' render={withSuspense(PostsContainer)} />\n              <Route path='/messages' render={withSuspense(MessagesContainer)} />\n              <Route path='/users' render={withSuspense(UsersContainer)} />\n            </div>\n          </div>\n        </div>\n      </React.Suspense>\n    )\n  }\n}\n\nApp.propTypes = {\n  isInit: PropTypes.bool,\n  initialize: PropTypes.func\n}\n\nconst mapStateToProps = (state) => ({\n  isInit: state.app.isInit\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initialize: initializeThunkCreator }))(App)\n","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport store from './redux/redux-store'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\n// import './index.css'\n\nconst render = () => {\n  ReactDOM.render(\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>,\n    document.getElementById('root'))\n}\nstore.subscribe(render)\nrender()\n","const state = {\r\n  navbarPage: {\r\n    menu: {\r\n      items: [\r\n        {\r\n          title: 'Profile',\r\n          link: '/myprofile'\r\n        },\r\n        {\r\n          title: 'Posts',\r\n          link: '/posts'\r\n        },\r\n        {\r\n          title: 'Messages',\r\n          link: '/messages'\r\n        },\r\n        /*         {\r\n          title: 'Friends',\r\n          link: '/friends'\r\n        }, */\r\n        {\r\n          title: 'Users',\r\n          link: '/users'\r\n        }\r\n        /*        {\r\n          title: 'Settings',\r\n          link: '/settings'\r\n        } */\r\n      ]\r\n    }\r\n  },\r\n  messagesPage: {\r\n    dialogs: [\r\n      { id: 1, user: 'John' },\r\n      { id: 2, user: 'Mark' },\r\n      { id: 3, user: 'Helen' },\r\n      { id: 4, user: 'Lucy' }\r\n    ],\r\n    messages: [\r\n      { id: '1', text: 'Hello' },\r\n      { id: '2', text: 'How are you?' },\r\n      { id: '3', text: 'Do you know React?' }\r\n    ]\r\n  },\r\n\r\n  profilePage: {\r\n    posts: [\r\n      { id: '1', text: 'my post 1' },\r\n      { id: '2', text: 'my post 2' },\r\n      { id: '3', text: 'my post 3' },\r\n      { id: '4', text: 'my post 4' }\r\n    ],\r\n    newPostText: ''\r\n  },\r\n\r\n  usersPage: {\r\n    users: [\r\n      {\r\n        id: 1,\r\n        name: 'John Doe'\r\n      }, {\r\n        id: 2,\r\n        name: 'Anna Miles'\r\n      }, {\r\n        id: 3,\r\n        name: 'Kate Smith'\r\n      }, {\r\n        id: 4,\r\n        name: 'Jack Jackson'\r\n      }\r\n    ]\r\n  }\r\n}\r\n\r\nexport default state\r\nwindow.state = state\r\n","\r\nimport moment from 'moment'\r\nimport API from '../services/api'\r\nimport { reset } from 'redux-form'\r\n\r\nexport const NEW_POST_FORM_NAME = 'profileNewPost'\r\n\r\nexport const SET_POSTS = 'posts/SET-POSTS'\r\nexport const ADD_POST = 'posts/ADD-POST'\r\nexport const EDIT_NEW_POST = 'posts/EDIT-NEW-POST'\r\nexport const SET_IS_FETCHING = 'posts/SET-IS-FETCHING'\r\n\r\nexport const setPosts = posts => ({ type: SET_POSTS, posts })\r\nexport const addPost = post => ({ type: ADD_POST, post })\r\nexport const editPost = post => ({ type: EDIT_NEW_POST, post })\r\nexport const setIsFetching = isFetching => ({ type: SET_IS_FETCHING, isFetching })\r\n\r\nconst initState = {\r\n  posts: [],\r\n  arePostsFetching: false\r\n}\r\n\r\nconst createNewPost = (text) => ({\r\n  id: `f${(+(new Date())).toString(16)}`,\r\n  text,\r\n  datetime: moment().format('YYYY-MM-DD HH:mm')\r\n})\r\n\r\nconst putPosts = async (dispatch, data, formName) => {\r\n  try {\r\n    const response = await API.putPosts(data)\r\n    dispatch(setIsFetching(false))\r\n    const posts = response.data.data.posts\r\n    dispatch(setPosts({ posts }))\r\n    if (formName) {\r\n      dispatch(reset(formName))\r\n    }\r\n  } catch (error) {\r\n    console.error('put posts error', error)\r\n  }\r\n}\r\n\r\nconst getPosts = async (dispatch) => {\r\n  try {\r\n    dispatch(setIsFetching(true))\r\n    const response = await API.getPosts()\r\n    let posts = []\r\n    if (response.data && response.data.data) {\r\n      dispatch(setIsFetching(false))\r\n      posts = response.data.data.posts\r\n    }\r\n    return posts\r\n  } catch (error) {\r\n    console.error('get posts error', error)\r\n    return null\r\n  }\r\n}\r\n\r\nexport const getPostsThunkCreator = (userId = 1) => async (dispatch) => {\r\n  const posts = await getPosts(dispatch)\r\n  dispatch(setPosts({ posts }))\r\n}\r\n\r\nexport const addNewPostThunkCreator = (text, userId = 1) => async (dispatch) => {\r\n  const posts = await getPosts(dispatch)\r\n  if (posts) {\r\n    putPosts(dispatch, { userId, posts: [...posts, createNewPost(text)] }, NEW_POST_FORM_NAME)\r\n  }\r\n}\r\n\r\nexport const deletePostThunkCreator = (postId, userId = 1) => async (dispatch) => {\r\n  let posts = await getPosts(dispatch)\r\n  if (posts) {\r\n    posts = posts.filter((post) => post.id !== postId)\r\n    putPosts(dispatch, { userId, posts: [...posts] })\r\n  }\r\n}\r\n\r\nconst postsReducer = (state = initState, action = {}) => {\r\n  const stateCopy = { ...state }\r\n  switch (action.type) {\r\n    case SET_POSTS: {\r\n      return {\r\n        ...state,\r\n        ...action.posts\r\n      }\r\n    }\r\n    case ADD_POST: {\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, { id: state.posts.length, text: action.post }]\r\n      }\r\n    }\r\n    case EDIT_NEW_POST: {\r\n      stateCopy.newPostText = action.post.text\r\n      return stateCopy\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, arePostsFetching: action.isFetching }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default postsReducer\r\n","\r\nimport API from './../services/api'\r\n\r\nexport const SET_USER_PROFILE = 'profile/SET-USER-PROFILE'\r\nexport const SET_USER_ID = 'profile/SET-USER-ID'\r\nexport const SET_IS_FETCHING = 'profile/SET-IS-FETCHING'\r\nexport const SET_IS_AUTHORIZED_PROFILE = 'profile/SET-IS-AUTHORIZED-PROFILE'\r\nexport const SET_STATUS = 'profile/SET-STATUS'\r\n\r\nexport const setUserProfile = userProfile => ({ type: SET_USER_PROFILE, userProfile })\r\nexport const setUserId = userId => ({ type: SET_USER_ID, userId })\r\nexport const setIsFetching = isFetching => ({ type: SET_IS_FETCHING, isFetching })\r\nexport const setIsAuthorizedProfile = isAuthorizedProfile => ({ type: SET_IS_AUTHORIZED_PROFILE, isAuthorizedProfile })\r\nexport const setStatus = status => ({ type: SET_STATUS, status })\r\n\r\nconst initState = {\r\n  isProfileFetching: false,\r\n  userProfile: {},\r\n  userId: 2,\r\n  isAuthorizedProfile: false,\r\n  status: ''\r\n}\r\n\r\nconst getUserProfile = async (userId, dispatch) => {\r\n  try {\r\n    dispatch(setIsFetching(true))\r\n    const response = await API.getUserProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n    dispatch(setUserId(userId))\r\n  } catch (error) {\r\n    console.error('get profile error', error)\r\n  } finally {\r\n    dispatch(setIsFetching(false))\r\n  }\r\n}\r\n\r\nexport const getUserProfileThunkCreator = (userId) => (dispatch) => {\r\n  dispatch(setUserProfile(null))\r\n  dispatch(setUserId(null))\r\n  dispatch(setIsAuthorizedProfile(false))\r\n  dispatch(setIsFetching(true))\r\n  getUserProfile(userId, dispatch)\r\n}\r\n\r\nexport const getUserProfileStatusThunkCreator = (userId) => async (dispatch) => {\r\n  try {\r\n    const response = await API.getUserProfileStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n  } catch (error) {\r\n    console.error('get status error', error)\r\n  }\r\n}\r\n\r\nexport const changeUserProfileStatusThunkCreator = (status) => async (dispatch) => {\r\n  try {\r\n    await API.putUserProfileStatus(status)\r\n    dispatch(setStatus(status))\r\n  } catch (error) {\r\n    console.error('put status', error)\r\n  }\r\n}\r\n\r\nexport const getAuthUserProfileThunkCreator = () => async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n  try {\r\n    const response = await API.getAuthUser()\r\n    if (response.data) {\r\n      const resultCode = response.data.resultCode\r\n      if (resultCode === 0) {\r\n        const userData = response.data && response.data.data\r\n        await getUserProfile(userData.id, dispatch)\r\n        dispatch(setIsAuthorizedProfile(!!userData.id))\r\n      }\r\n    }\r\n  } finally {\r\n    dispatch(setIsFetching(false))\r\n  }\r\n}\r\n\r\nconst profileReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, isProfileFetching: action.isFetching }\r\n    }\r\n    case SET_IS_AUTHORIZED_PROFILE: {\r\n      return { ...state, isAuthorizedProfile: action.isAuthorizedProfile }\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return { ...state, userProfile: action.userProfile }\r\n    }\r\n    case SET_USER_ID: {\r\n      return { ...state, userId: action.userId }\r\n    }\r\n    case SET_STATUS: {\r\n      return { ...state, status: action.status }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","import API from '../services/api'\r\n\r\nexport const SET_USERS = 'users/SET-USERS'\r\nexport const SET_TOTAL_USER_COUNT = 'users/SET-TOTAL-USER-COUNT'\r\nexport const SET_PAGE_COUNT = 'users/SET-PAGE-COUNT'\r\nexport const SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE'\r\nexport const SET_IS_FETCHING = 'users/SET-IS-FETCHING'\r\n\r\nexport const setUsers = users => ({ type: SET_USERS, users })\r\nexport const setTotalUserCount = totalUserCount => ({ type: SET_TOTAL_USER_COUNT, totalUserCount })\r\nexport const setPageCount = pageCount => ({ type: SET_PAGE_COUNT, pageCount })\r\nexport const setCurrentPage = currentPage => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setIsFetching = isFetching => ({ type: SET_IS_FETCHING, isFetching })\r\n\r\nconst initState = {\r\n  users: [],\r\n  pageSize: 50,\r\n  totalUserCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false\r\n}\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n  dispatch(setUsers([]))\r\n  dispatch(setTotalUserCount(0))\r\n\r\n  const response = await API.getUsers(currentPage, pageSize)\r\n  if (response.data) {\r\n    const totalUserCount = response.data.totalCount || 0\r\n    const pageCount = Math.ceil(totalUserCount / pageSize)\r\n    dispatch(setUsers(response.data.items))\r\n    dispatch(setTotalUserCount(totalUserCount))\r\n    dispatch(setPageCount(pageCount))\r\n    dispatch(setCurrentPage(currentPage))\r\n    dispatch(setIsFetching(false))\r\n  }\r\n}\r\n\r\nconst usersReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users }\r\n    }\r\n    case SET_TOTAL_USER_COUNT: {\r\n      return { ...state, totalUserCount: action.totalUserCount }\r\n    }\r\n    case SET_PAGE_COUNT: {\r\n      return { ...state, pageCount: action.pageCount }\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage }\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst FormControl = ({ input, meta, ...props }) => {\r\n  const isInvalid = meta.touched && meta.error\r\n  return (\r\n    <div>\r\n      {props.children}\r\n      {isInvalid &&\r\n        <div className='inline m-b-none m-t-none abs invalid-feedback'>\r\n          {meta.error}\r\n        </div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nFormControl.propTypes = {\r\n  children: PropTypes.array,\r\n  input: PropTypes.object,\r\n  meta: PropTypes.object\r\n}\r\n\r\nexport default FormControl\r\n"],"sourceRoot":""}