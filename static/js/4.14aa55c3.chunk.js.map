{"version":3,"sources":["components/common/Follow/Follow.jsx","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","imgs/avatar.png","redux/profile-selector.js","components/Profile/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileStatus/ProfileStatusContainer.jsx","components/common/Follow/FollowProfileContainer.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["Follow","userId","followed","followingInProgress","follow","unfollow","isFollowingInProgress","some","id","color","disabled","onClick","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","module","exports","getUserProfile","state","profilePage","userProfile","getIsProfileFetching","isProfileFetching","getIsAuth","auth","isAuth","getIsAuthFetching","isFetching","getFollowed","getIsFollowStatusFetching","isFollowStatusFetching","ProfileStatus","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onBlur","onStatusChanged","defaultValue","onChange","event","target","compose","connect","authUserData","userData","getStatus","getUserProfileStatusThunkCreator","changeStatus","changeUserProfileStatusThunkCreator","withRouter","isFollowedStatusFetching","followThunkCreator","unfollowThunkCreator","ProfileInfo","isAuthorizedProfile","body","className","src","photos","large","avatar","style","width","alt","fullName","aboutMe","Profile","isAuthFetching","requestUserProfile","getUserProfileThunkCreator","getAuthUser","getAuthUserProfileThunkCreator","match","isAuthProfile","params","isProfileFound","isProfileLoading","Preloader","to"],"mappings":"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","file":"static/js/4.14aa55c3.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button } from 'reactstrap'\r\n\r\nconst Follow = ({ userId, followed, followingInProgress, follow, unfollow }) => {\r\n  const isFollowingInProgress = followingInProgress.some(id => id === userId)\r\n  return (\r\n    <div>\r\n      {followed\r\n        ? <Button color='info' disabled={isFollowingInProgress} onClick={() => { unfollow(userId) }}> Unfollow </Button>\r\n        : <Button color='info' disabled={isFollowingInProgress} onClick={() => { follow(userId) }}> Follow </Button>}\r\n    </div>)\r\n}\r\n\r\nFollow.propTypes = {\r\n  userId: PropTypes.number,\r\n  followed: PropTypes.bool,\r\n  followingInProgress: PropTypes.array,\r\n  follow: PropTypes.func,\r\n  unfollow: PropTypes.func\r\n}\r\n\r\nexport default Follow\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","module.exports = __webpack_public_path__ + \"static/media/avatar.0243ad0f.png\";","export const getUserProfile = (state) => state.profilePage.userProfile\r\nexport const getIsProfileFetching = (state) => state.profilePage.isProfileFetching\r\nexport const getAuthUserData = (state) => state.profilePage.userProfile\r\nexport const getUserId = (state) => +state.profilePage.userId\r\nexport const getStatus = (state) => state.profilePage.status\r\nexport const getIsAuthorizedProfile = (state) => state.profilePage.isAuthorizedProfile\r\nexport const getIsAuth = (state) => state.auth.isAuth\r\nexport const getIsAuthFetching = (state) => state.auth.isFetching\r\nexport const getFollowed = (state) => state.profilePage.followed\r\nexport const getIsFollowStatusFetching = (state) => state.profilePage.isFollowStatusFetching\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst ProfileStatus = (props) => {\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [status, setStatus] = useState(props.status)\r\n\r\n  useEffect(() => { setStatus(props.status) }, [props.status])\r\n\r\n  const handleStatusChange = (event) => {\r\n    setStatus(event.target.value)\r\n  }\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n\r\n  const deActivateEditMode = () => {\r\n    setEditMode(false)\r\n  }\r\n\r\n  const handleStatusDoubleClick = () => {\r\n    activateEditMode()\r\n  }\r\n\r\n  const handleStatusBlur = () => {\r\n    deActivateEditMode()\r\n    props.onStatusChanged(status)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {!editMode &&\r\n        <div>\r\n          <span onDoubleClick={handleStatusDoubleClick}>{props.status || 'Enter your status...'}</span>\r\n        </div>}\r\n\r\n      {editMode &&\r\n        <div>\r\n          <input\r\n            value={status}\r\n            onBlur={handleStatusBlur}\r\n            defaultValue={props.status}\r\n            onChange={handleStatusChange}\r\n          />\r\n        </div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nProfileStatus.propTypes = {\r\n  status: PropTypes.string,\r\n  onStatusChanged: PropTypes.func\r\n}\r\n\r\nexport default ProfileStatus\r\n","import React, { useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { getUserProfileStatusThunkCreator, changeUserProfileStatusThunkCreator } from '../../../redux/profile-reducer'\r\n// import withAuthRedirect from '../hoc/withAuthRedirect'\r\nimport ProfileStatus from './ProfileStatus'\r\n\r\nconst ProfileStatusContainer = ({ authUserData, status, getStatus, changeStatus }) => {\r\n  useEffect(() => {\r\n    authUserData && authUserData.id && getStatus(authUserData.id)\r\n  }, [authUserData, getStatus])\r\n\r\n  return (\r\n    <ProfileStatus\r\n      userData={authUserData}\r\n      status={status}\r\n      onStatusChanged={(status) => { changeStatus(status) }}\r\n    />\r\n  )\r\n}\r\n\r\nProfileStatusContainer.propTypes = {\r\n  status: PropTypes.string,\r\n  authUserData: PropTypes.object,\r\n  getStatus: PropTypes.func,\r\n  changeStatus: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  authUserData: state.auth.userData,\r\n  status: state.profilePage.status\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getStatus: getUserProfileStatusThunkCreator,\r\n    changeStatus: changeUserProfileStatusThunkCreator\r\n  }),\r\n  withRouter\r\n// withAuthRedirect\r\n)(ProfileStatusContainer)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  followThunkCreator,\r\n  unfollowThunkCreator\r\n} from '../../../redux/profile-reducer'\r\nimport { getIsFollowStatusFetching } from '../../../redux/profile-selector'\r\nimport Follow from './Follow'\r\n\r\nconst FollowContainer = ({\r\n  userId, followed, isFollowedStatusFetching, follow, unfollow\r\n}) => (\r\n  <div>\r\n    <Follow\r\n      userId={userId}\r\n      followed={followed}\r\n      followingInProgress={isFollowedStatusFetching ? [userId] : []}\r\n      follow={follow}\r\n      unfollow={unfollow}\r\n    />\r\n  </div>)\r\n\r\nFollowContainer.propTypes = {\r\n  userId: PropTypes.number,\r\n  followed: PropTypes.bool,\r\n  isFollowedStatusFetching: PropTypes.bool,\r\n  follow: PropTypes.func,\r\n  unfollow: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isFollowedStatusFetching: getIsFollowStatusFetching(state)\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps, {\r\n    follow: followThunkCreator,\r\n    unfollow: unfollowThunkCreator\r\n  })(FollowContainer)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Row, Col, Card } from 'reactstrap'\r\nimport avatar from '../../../imgs/avatar.png'\r\nimport ProfileStatusContainer from './../ProfileStatus/ProfileStatusContainer'\r\nimport FollowContainer from '../../common/Follow/FollowProfileContainer'\r\n\r\nconst ProfileInfo = ({ userProfile, isAuthorizedProfile, isAuth, followed }) => {\r\n  return (\r\n    <Card body>\r\n      <div className='text-center'>\r\n        <div className='m-b'>\r\n          <img src={userProfile.photos.large || avatar} style={{ width: 100 }} className='b-circle' alt='profile' />\r\n        </div>\r\n        <div>\r\n          <h2 className='h4'>{userProfile.fullName}</h2>\r\n          <div className='h5 text-muted'>{userProfile.aboutMe}</div>\r\n          <hr />\r\n          <div className='p text-muted'>{isAuthorizedProfile && <ProfileStatusContainer />}</div>\r\n          {/*         <Row className='text-center m-b'>\r\n            <Col>\r\n              <strong>230</strong>\r\n              <div className='text-muted'>Followers</div>\r\n            </Col>\r\n            <Col>\r\n              <strong>325</strong>\r\n              <div className='text-muted'>Following</div>\r\n            </Col>\r\n          </Row> */}\r\n          {!isAuthorizedProfile && isAuth && <FollowContainer userId={userProfile.userId} followed={followed} />}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nProfileInfo.propTypes = {\r\n  userProfile: PropTypes.object,\r\n  isAuth: PropTypes.bool,\r\n  isAuthorizedProfile: PropTypes.bool,\r\n  followed: PropTypes.bool\r\n}\r\n\r\nexport default ProfileInfo\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nconst Profile = ({ userProfile, isAuthorizedProfile, isAuth, followed }) => {\r\n  return (\r\n    <div className='container'>\r\n      <ProfileInfo\r\n        userProfile={userProfile}\r\n        isAuthorizedProfile={isAuthorizedProfile}\r\n        isAuth={isAuth}\r\n        followed={followed}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nProfile.propTypes = {\r\n  userProfile: PropTypes.object,\r\n  isAuthorizedProfile: PropTypes.bool,\r\n  isAuth: PropTypes.bool,\r\n  followed: PropTypes.bool\r\n}\r\n\r\nexport default Profile\r\n","import React, { useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter, Redirect } from 'react-router-dom'\r\nimport { getUserProfileThunkCreator, getAuthUserProfileThunkCreator } from '../../redux/profile-reducer'\r\nimport { getUserProfile, getIsProfileFetching, getIsAuth, getIsAuthFetching, getFollowed } from '../../redux/profile-selector'\r\n// import withAuthRedirect from '../hoc/withAuthRedirect'\r\nimport Profile from './Profile'\r\nimport Preloader from '../common/Preloader/Preloader'\r\n\r\nconst ProfileContainer = ({\r\n  userProfile, isProfileFetching, followed, isAuthFetching, isAuth, match,\r\n  requestUserProfile, getAuthUser\r\n}) => {\r\n  const isAuthProfile = !match.params.userId\r\n  useEffect(() => {\r\n    if (match.params.userId) {\r\n      requestUserProfile(match.params.userId)\r\n    } else {\r\n      getAuthUser()\r\n    }\r\n  }, [match.params.userId])\r\n\r\n  const isProfileFound = userProfile && userProfile.fullName\r\n  const isProfileLoading = match.params.userId && userProfile && +match.params.userId !== +userProfile.userId\r\n\r\n  if (isProfileFetching || isAuthFetching || isProfileLoading) return <Preloader />\r\n  if (isAuthProfile && !isAuth) return <Redirect to='/login' />\r\n  if (!isProfileFound) return null\r\n  return (\r\n    <Profile\r\n      userProfile={userProfile}\r\n      isAuthorizedProfile={isAuthProfile}\r\n      isAuth={isAuth}\r\n      followed={followed}\r\n    />\r\n  )\r\n}\r\n\r\nProfileContainer.propTypes = {\r\n  userProfile: PropTypes.object,\r\n  followed: PropTypes.bool,\r\n  isProfileFetching: PropTypes.bool,\r\n  isAuthFetching: PropTypes.bool,\r\n  isAuth: PropTypes.bool,\r\n  match: PropTypes.object,\r\n  requestUserProfile: PropTypes.func,\r\n  getAuthUser: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userProfile: getUserProfile(state),\r\n  isProfileFetching: getIsProfileFetching(state),\r\n  isAuth: getIsAuth(state),\r\n  isAuthFetching: getIsAuthFetching(state),\r\n  followed: getFollowed(state)\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    requestUserProfile: getUserProfileThunkCreator,\r\n    getAuthUser: getAuthUserProfileThunkCreator\r\n  }),\r\n  withRouter\r\n// withAuthRedirect\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}