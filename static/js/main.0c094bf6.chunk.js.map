{"version":3,"sources":["redux/messages-reducer.js","services/api.js","components/common/Preloader/Preloader.jsx","redux/generic.js","redux/navbar-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/hoc/withSuspense.js","components/Header/Header.jsx","components/Header/Auth.jsx","components/Header/HeaderContainer.jsx","components/Navbar/NavbarLogo.jsx","components/Navbar/NavbarSpacer.jsx","components/Navbar/NavbarItem.jsx","components/Navbar/Navbar.jsx","components/Navbar/NavbarContainer.jsx","components/common/FormControls/Input.jsx","components/Login/LoginFormFields.jsx","components/Login/LoginForm.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","App.js","index.js","redux/state.js","redux/profile-reducer.js","redux/posts-reducer.js","utils/helpers/objects.js","redux/users-reducer.js","components/common/FormControls/FormControl.jsx"],"names":["initState","state","messagesPage","sendMessageThunkCreator","message","dispatch","type","data","messagesReducer","action","id","messages","length","text","POSTS_URL","instance","Axios","create","withCredentials","baseURL","headers","API","currentPage","pageSize","get","email","password","rememberMe","post","delete","userId","status","put","Preloader","className","role","requestData","method","progressActionCreator","actionCreator","a","response","resultCode","navbarPage","navbarReducer","setUserData","setIsFetching","isFetching","userData","isAuth","getAuthUser","getAuthUserThunkCreator","authReducer","isInit","appReducer","reducers","combineReducers","profilePage","profileReducer","postsPage","postsReducer","usersPage","usersReducer","auth","app","form","FormReducer","composeEnhancers","composeWithDevTools","store","createStore","applyMiddleware","ThunkMiddleWare","window","reduxStore","withSuspense","Component","props","Suspense","fallback","Header","handleLogout","login","color","onClick","to","Auth","connect","logoutUser","NavbarLogo","logo","src","alt","logoText","NavbarSpacer","NavbarItem","url","item","link","charAt","Icon","icon","Feather","activeClassName","title","Navbar","menu","items","this","map","i","key","Input","FormControl","input","LoginFormInput","component","fieldName","placeholder","autocomplete","validate","required","autoFocus","label","htmlFor","Field","name","autoComplete","LoginFormCheckBox","LoginFormError","error","LoginFormButton","reduxForm","handleSubmit","onSubmit","Login","handleLoginUser","values","loginUser","stopSubmit","_error","ProfileContainer","React","lazy","PostsContainer","MessagesContainer","UsersContainer","App","initialize","NavbarContainer","tabIndex","path","render","compose","withRouter","promise","Promise","all","then","ReactDOM","basename","process","document","getElementById","subscribe","dialogs","user","posts","newPostText","users","FOLLOW","UNFOLLOW","setUserId","setStatus","setIsFollowStatusFetching","isFollowStatusFetching","setFollowed","setUnfollowed","isProfileFetching","userProfile","followed","_getUserProfile","getUserProfile","console","_getFollowStatus","getUserFollow","getUserProfileThunkCreator","getUserProfileStatusThunkCreator","getUserProfileStatus","changeUserProfileStatusThunkCreator","putUserProfileStatus","getAuthUserProfileThunkCreator","followThunkCreator","postUserFollow","unfollowThunkCreator","deleteUserFollow","NEW_POST_FORM_NAME","setPosts","arePostsFetching","createNewPost","Date","toString","datetime","moment","format","putPosts","formName","reset","getPosts","getPostsThunkCreator","addNewPostThunkCreator","deletePostThunkCreator","postId","filter","stateCopy","updateObjectInArrayByValue","itemValue","objPropName","newObjProps","setUsers","setTotalUserCount","totalUserCount","setPageCount","pageCount","setCurrentPage","setIsFollowingProgress","setFollow","setUnfollow","followingInProgress","getUsersThunkCreator","getUsers","totalCount","Math","ceil","meta","isInvalid","touched","children"],"mappings":"iKAOMA,EAAYC,IAAMC,aAEXC,EAA0B,SAACC,GAAD,OAAa,SAACC,GACnDA,EALkC,CAAEC,KAHV,wBAG8BC,KAKnCH,MAuBRI,IApBS,WAAqC,IAApCP,EAAmC,uDAA3BD,EAAWS,EAAgB,uDAAP,GACnD,OAAQA,EAAOH,MACb,IAbwB,wBActB,IAAMF,EAAU,CACdM,GAAIT,EAAMU,SAASC,OACnBC,KAAMJ,EAAOF,MAEf,OAAO,eACFN,EADL,CAEEU,SAAS,GAAD,mBACHV,EAAMU,UADH,CAENP,MAIN,QACE,OAAOH,K,uGCtBAa,EAAY,oCAEnBC,EAAWC,IAAMC,OACrB,CACEC,iBAAiB,EACjBC,QAPoB,gDAQpBC,QAAS,CACP,UAV0B,0CAeXC,E,wGAC+B,IAAjCC,EAAgC,uDAAlB,EAAGC,EAAe,uDAAJ,GAC3C,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,M,oCAIvD,OAAOR,EAASS,IAAI,a,gCAGJC,EAAOC,EAAUC,GACjC,OAAOZ,EAASa,KAAK,aAAc,CACjCH,QACAC,WACAC,iB,mCAKF,OAAOZ,EAASc,OAAO,gB,qCAGFC,GACrB,OAAOf,EAASS,IAAT,kBAAwBM,M,2CAGJA,GAC3B,OAAOf,EAASS,IAAT,yBAA+BM,M,2CAGXC,GAC3B,OAAOhB,EAASiB,IAAI,kBAAmB,CAAED,a,oCAGrBD,GACpB,OAAOf,EAASS,IAAT,iBAAuBM,M,qCAGTA,GACrB,OAAOf,EAASa,KAAT,iBAAwBE,GAAU,CAAEA,a,uCAGpBA,GACvB,OAAOf,EAASc,OAAT,iBAA0BC,GAAU,CAAEA,a,iCAI7C,OAAOd,IAAMQ,IAAIV,K,+BAGFP,GACf,OAAOS,IAAMgB,IAAIlB,EAAW,CAAEP,a,kGCrElC,oBAUe0B,IARG,WAChB,OACE,yBAAKC,UAAU,iBAAiBC,KAAK,UACnC,0BAAMD,UAAU,WAAhB,iB,8FCLOE,EAAW,uCAAG,WAAO/B,EAAUgC,EAAQC,EAAuBC,EAAehC,GAA/D,eAAAiC,EAAA,6DACzBnC,EAASiC,GAAsB,EAAM/B,IADZ,SAEF8B,EAAO9B,GAFL,QAEnBkC,EAFmB,QAGZlC,MAAqC,IAA7BkC,EAASlC,KAAKmC,YACjCrC,EAASkC,EAAchC,IAEzBF,EAASiC,GAAsB,EAAO/B,IANb,2CAAH,+D,wHCElBP,E,MAAYC,EAAM0C,WAMTC,EAJO,WAAqC,IAApC3C,EAAmC,uDAA3BD,EAA2B,wDACxD,OAAOC,G,wECII4C,EAAc,SAAAtC,GAAI,MAAK,CAAED,KAJT,qBAI8BC,SAG9CuC,EAAgB,SAAAC,GAAU,MAAK,CAAEzC,KALf,uBAKsCyC,eAE/D/C,EAAY,CAChBgD,SAAU,KACVC,QAAQ,EACRF,YAAY,GAGRG,EAAW,uCAAG,WAAO7C,GAAP,iBAAAmC,EAAA,6DAClBnC,EAASyC,GAAc,IADL,kBAGOzB,IAAI6B,cAHX,OAGVT,EAHU,OAIVC,EAAaD,EAASlC,MAAQkC,EAASlC,KAAKmC,WAEhDrC,EAASwC,EADQ,IAAfH,EACmB,CAAEM,SAAUP,EAASlC,KAAKA,KAAM0C,QAAQ,GAExC,CAAED,SAAU,GAAIC,QAAQ,KAR/B,uBAWhB5C,EAASyC,GAAc,IAXP,yEAAH,sDAeJK,EAA0B,kBAAM,SAAC9C,GAC5C6C,EAAY7C,KAwCC+C,EAhBK,WAAqC,IAApCnD,EAAmC,uDAA3BD,EAAWS,EAAgB,uDAAP,GAC/C,OAAQA,EAAOH,MACb,IAzDyB,qBA0DvB,OAAO,eAAKL,EAAZ,GAAsBQ,EAAOF,MAE/B,IA3DuB,mBA4DrB,OAAO,eAAKN,EAAZ,CAAmBgD,OAAQxC,EAAOwC,SAEpC,IA7D2B,uBA8DzB,OAAO,eAAKhD,EAAZ,CAAmB8C,WAAYtC,EAAOsC,aAExC,QACE,OAAO9C,IClEPD,EAAY,CAChBqD,QAAQ,GAmBKC,EAVI,WAAqC,IAApCrD,EAAmC,uDAA3BD,EAAWS,EAAgB,uDAAP,GAC9C,OAAQA,EAAOH,MACb,IAhBoB,eAiBlB,OAAO,eAAKL,EAAZ,CAAmBoD,OAAQ5C,EAAO4C,SAEpC,QACE,OAAOpD,ICVPsD,EAAWC,0BAAgB,CAC/BC,YAAaC,IACbC,UAAWC,IACX1D,aAAcM,IACdqD,UAAWC,IACXnB,WAAYC,EACZmB,KAAMX,EACNY,IAAKV,EACLW,KAAMC,MAKFC,EAAmBC,8BAAoB,IAGvCC,EAAQC,sBAAYf,EAAgCY,EACxDI,0BAAgBC,OAGlBC,OAAOC,WAAaL,EACLA,Q,iFC7BFM,EAAe,SAACC,GAAD,OAAe,SAACC,GAAD,OAAW,kBAAC,IAAMC,SAAP,CAAgBC,SAAU,kBAAC9C,EAAA,EAAD,OAAe,kBAAC2C,EAAcC,M,QCyB/FG,EAxBA,SAAC,GAAD,IAAGhC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQgC,EAArB,EAAqBA,aAArB,OACb,4BAAQ/C,UAAU,cAChB,yBAAKA,UAAU,aACb,kBAAC,IAAD,CAAQA,UAAU,mBAChB,yBAAKA,UAAU,OACb,wBAAIA,UAAU,YAAW,0BAAMA,UAAU,kBAAhB,IAAmCc,GAAYA,EAASkC,MAAxD,OAE3B,6BACE,wBAAIhD,UAAU,YAAYe,GAAU,kBAAC,IAAD,CAAQkC,MAAM,YAAYC,QAASH,GAAnC,YAEtC,6BACE,wBAAI/C,UAAU,aAAae,GAAU,kBAAC,IAAD,CAASoC,GAAG,UAAZ,eCRhCC,EANF,WACX,OACE,mCCwBWC,eALS,SAACtF,GAAD,MAAY,CAClC+C,SAAU/C,EAAM8D,KAAKf,SACrBC,OAAQhD,EAAM8D,KAAKd,UAGmB,CACtCJ,cACAK,YAAaC,EACbqC,WNqBoC,yDAAM,WAAOnF,GAAP,eAAAmC,EAAA,sEACnBnB,IAAImE,aADe,OACpC/C,EADoC,OAGvB,IADAA,EAASlC,KAAKmC,YAE/BrC,EAASwC,EAAY,CAAEG,SAAU,KAAMC,QAAQ,KAJP,2CAAN,wDMxBvBsC,EAjBS,SAAC,GAAD,IAAGvC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQuC,EAArB,EAAqBA,WAArB,OACtB,6BACE,kBAAC,EAAD,CAAMxC,SAAUA,EAAUiC,aAAcO,IACxC,kBAAC,EAAD,CAAQxC,SAAUA,EAAUiC,aAAcO,EAAYvC,OAAQA,QCMnDwC,EAhBI,SAACZ,GAClB,OACE,yBAAK3C,UAAU,iBACb,kBAAC,IAAD,CAASmD,GAAG,IAAInD,UAAU,gBACvB2C,EAAMa,MAAQ,yBAAKC,IAAKd,EAAMa,KAAME,IAAI,KACxCf,EAAMgB,UAAY,0BAAM3D,UAAU,aAAa2C,EAAMgB,aCH/CC,EAJM,WACnB,OAAO,wBAAI5D,UAAU,8B,QCmBR6D,EAjBI,SAAClB,GAClB,IAAMmB,EAAoC,MAA9BnB,EAAMoB,KAAKC,KAAKC,OAAO,GAAatB,EAAMoB,KAAKC,KAA/C,WAA0DrB,EAAMoB,KAAKC,MAC3EE,EAAOvB,EAAMoB,KAAKI,MAAQC,EAAQzB,EAAMoB,KAAKI,MAAQC,EAAQzB,EAAMoB,KAAKI,MAAQ,KACtF,OACE,wBAAInE,UAAU,YACZ,kBAAC,IAAD,CAASmD,GAAIW,EAAKO,gBAAgB,UAC/B1B,EAAMoB,KAAKI,MAAQD,GAAQ,kBAACA,EAAD,CAAMlE,UAAU,kBAC5C,0BAAMA,UAAU,kBAAkB2C,EAAMoB,KAAKO,UCD/CC,E,YACJ,WAAa5B,GAAQ,IAAD,8BAClB,+CACK5E,MAAQ,CACXyG,KAAM7B,EAAM6B,MAHI,E,sEAQlB,IAAMC,EAAQC,KAAK3G,MAAMyG,KAAKC,MAAME,KAAI,SAACZ,EAAMa,GAAP,OACtC,yBAAKC,IAAKD,GACR,kBAAC,EAAD,CAAYb,KAAMA,IAClB,kBAAC,EAAD,UAGJ,OACE,yBAAK/D,UAAU,eACb,kBAAC,EAAD,CAAYwD,KApBP,2DAoBmBG,SAnBd,mBAoBTc,O,GAlBY/B,aAgCNW,gBAJS,SAACtF,GAAD,MAAY,CAClCyG,KAAMzG,EAAM0C,WAAW+D,QAGe,KAAzBnB,CAA+BkB,GCpC/BlB,gBAJS,SAACtF,GAAD,MAAY,CAClCyG,KAAMzG,EAAM0C,WAAW+D,QAGe,KAAzBnB,CAA+BkB,I,mBCK/BO,GARD,SAACnC,GAAD,OACZ,kBAACoC,GAAA,EAAgBpC,EAAjB,IAAyB,2CAAWA,EAAMqC,MAAWrC,IAArD,M,UCDWsC,GAAiB,SAAC,GAAD,QAAGC,iBAAH,MAAe,QAAf,EAAwBC,EAAxB,EAAwBA,UAAxB,IAAmC/G,YAAnC,MAA0C,QAA1C,EAAmDgH,EAAnD,EAAmDA,YAAaC,EAAhE,EAAgEA,aAAcC,EAA9E,EAA8EA,SAAUC,EAAxF,EAAwFA,SAAUC,EAAlG,EAAkGA,UAAlG,IAA6GC,aAA7G,MAAqH,GAArH,SAE1B,yBAAKzF,UAAU,kBACZyF,GAAS,2BAAOC,QAASP,EAAWnF,UAAU,yCAAyCyF,GACxF,yBAAKzF,UAAU,YACb,kBAAC2F,GAAA,EAAD,CACEP,YAAaA,EACbF,UAAWA,EACX9G,KAAMA,EACNwH,KAAMT,EACNU,aAAcR,EACdrF,UAAU,eACVsF,SAAUA,EACVC,SAAUA,EACVC,UAAWA,OAiBRM,GAAoB,SAAC,GAAD,IAAGZ,EAAH,EAAGA,UAAWC,EAAd,EAAcA,UAAd,IAAyB/G,YAAzB,MAAgC,WAAhC,MAA4CqH,aAA5C,MAAoD,GAApD,SAC/B,yBAAKzF,UAAU,kBACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,YACb,+BACE,kBAAC2F,GAAA,EAAD,CAAOT,UAAWA,EAAW9G,KAAMA,EAAMwH,KAAMT,IADjD,IACgEM,OAa3DM,GAAiB,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OAC5B,yBAAKhG,UAAU,kBACb,yBAAKA,UAAU,wBACb,uBAAGA,UAAU,eAAb,IAA6BgG,EAA7B,QAQOC,GAAkB,SAAC,GAAD,IAAGL,EAAH,EAAGA,KAAH,OAC7B,yBAAK5F,UAAU,wBACb,4BAAQ5B,KAAK,SAAS4B,UAAU,mBAC7B4F,KCnBQM,gBAAU,CAAEnE,Kd7CI,Sc6ChBmE,EAxCG,SAAC,GAAD,IAAGF,EAAH,EAAGA,MAAOG,EAAV,EAAUA,aAAV,OAChB,0BAAMC,SAAU,WAAQD,MAEtB,kBAAC,GAAD,CACEjB,UAAWJ,GACXK,UAAU,QACV/G,KAAK,QACLgH,YAAY,QACZS,aAAa,gBAEbN,UAAQ,EACRC,WAAS,EACTC,MAAM,mBAGR,kBAAC,GAAD,CACEP,UAAWJ,GACXK,UAAU,WACVC,YAAY,WACZhH,KAAK,WACLyH,aAAa,mBAEbN,UAAQ,EACRC,WAAS,EACTC,MAAM,aAGR,kBAAC,GAAD,CAAmBP,UAAU,QAAQC,UAAU,aAAa/G,KAAK,WAAWqH,MAAM,gBAEjFO,GAAS,kBAAC,GAAD,CAAgBA,MAAOA,IAEjC,kBAAC,GAAD,CAAiBJ,KAAK,cCLXS,GA9BD,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBAOf,OACE,0BAAMtG,UAAU,cACd,yBAAKA,UAAU,aACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,eAAf,SACA,yBAAKA,UAAU,aACb,kBAAC,GAAD,CAAWoG,SAdC,SAACG,GACrBA,EAAOhH,OAASgH,EAAO/G,UACzB8G,EAAgBC,EAAOhH,MAAOgH,EAAO/G,WAAY+G,EAAO9G,sBCwB/C4D,gBANS,SAACtF,GAAD,MAAY,CAClC+C,SAAU/C,EAAM4D,UAAUb,SAC1BC,OAAQhD,EAAM8D,KAAKd,OACnBF,WAAY9C,EAAM8D,KAAKhB,cAGe,CACtCF,cACAK,YAAaC,EACbuF,UhBKmC,SAACjH,EAAOC,EAAUC,GAAlB,8CAAiC,WAAOtB,GAAP,iBAAAmC,EAAA,6DACpEnC,EAASyC,GAAc,IAD6C,SAG7CzB,IAAIqH,UAAUjH,EAAOC,EAAUC,GAHc,OAG9Dc,EAH8D,OAKjD,KADAA,EAASlC,MAAQkC,EAASlC,KAAKmC,YAEhDQ,EAAY7C,IAEN6H,EAAQzF,EAASlC,KAAKI,SAASC,OAAS6B,EAASlC,KAAKI,SAAS,GAAK,qBAC1EN,EAASsI,YA7CkB,QA6CU,CAAEC,OAAQV,MATmB,2CAAjC,wDgBRtB3C,EAnBQ,SAAC,GAAuC,IAArCmD,EAAoC,EAApCA,UAAW3F,EAAyB,EAAzBA,WAAYE,EAAa,EAAbA,OAC/C,OAAIF,EAAmB,kBAACd,EAAA,EAAD,MAEnBgB,EAAe,KACZ,kBAAC,GAAD,CAAOuF,gBAAiBE,OCF3BG,GAAmBC,IAAMC,MAAK,kBAAM,iCACpCC,GAAiBF,IAAMC,MAAK,kBAAM,iCAClCE,GAAoBH,IAAMC,MAAK,kBAAM,iCACrCG,GAAiBJ,IAAMC,MAAK,kBAAM,iCAElCI,G,4LAEFvC,KAAK/B,MAAMuE,e,+BAIX,OAAKxC,KAAK/B,MAAMxB,OAKd,kBAAC,IAAMyB,SAAP,CAAgBC,SAAU,kBAAC9C,EAAA,EAAD,OACxB,yBAAKC,UAAU,YACb,kBAACmH,GAAD,MACA,yBAAKnH,UAAU,gBACb,kBAAC,EAAD,MACA,yBAAKA,UAAU,kBAAkBC,KAAK,OAAOmH,SAAS,MACpD,kBAAC,IAAD,CAAOC,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,mBAAmBC,OAAQ7E,EAAakE,MACpD,kBAAC,IAAD,CAAOU,KAAK,cAAcC,OAAQ7E,EAAakE,MAC/C,kBAAC,IAAD,CAAOU,KAAK,SAASC,OAAQ7E,EAAaqE,MAC1C,kBAAC,IAAD,CAAOO,KAAK,YAAYC,OAAQ7E,EAAasE,MAC7C,kBAAC,IAAD,CAAOM,KAAK,SAASC,OAAQ7E,EAAauE,UAf3C,kBAACjH,EAAA,EAAD,U,GAPK6G,IAAMlE,WAwCT6E,qBACbC,IACAnE,aANsB,SAACtF,GAAD,MAAY,CAClCoD,OAAQpD,EAAM+D,IAAIX,UAKO,CAAE+F,WhBnDS,kBAAM,SAAC/I,GAC3C,IAAMsJ,EAAUtJ,EAAS8C,KACzByG,QAAQC,IAAI,CAACF,IAAUG,KACrBzJ,EATgC,CAAEC,KAFd,eAE8B+C,QAS/B,SgB8CRoG,CAEqDN,ICrD9DK,GAAS,WACbO,IAASP,OACP,kBAAC,IAAD,CAAeQ,SAAUC,kBACvB,kBAAC,IAAD,CAAU5F,MAAOA,GACf,kBAAC,GAAD,QAGJ6F,SAASC,eAAe,UAE5B9F,EAAM+F,UAAUZ,IAChBA,M,gCClBA,IAAMvJ,EAAQ,CACZ0C,WAAY,CACV+D,KAAM,CACJC,MAAO,CACL,CACEH,MAAO,UACPN,KAAM,cAER,CACEM,MAAO,QACPN,KAAM,UAER,CACEM,MAAO,WACPN,KAAM,aAMR,CACEM,MAAO,QACPN,KAAM,aASdhG,aAAc,CACZmK,QAAS,CACP,CAAE3J,GAAI,EAAG4J,KAAM,QACf,CAAE5J,GAAI,EAAG4J,KAAM,QACf,CAAE5J,GAAI,EAAG4J,KAAM,SACf,CAAE5J,GAAI,EAAG4J,KAAM,SAEjB3J,SAAU,CACR,CAAED,GAAI,IAAKG,KAAM,SACjB,CAAEH,GAAI,IAAKG,KAAM,gBACjB,CAAEH,GAAI,IAAKG,KAAM,wBAIrB4C,YAAa,CACX8G,MAAO,CACL,CAAE7J,GAAI,IAAKG,KAAM,aACjB,CAAEH,GAAI,IAAKG,KAAM,aACjB,CAAEH,GAAI,IAAKG,KAAM,aACjB,CAAEH,GAAI,IAAKG,KAAM,cAEnB2J,YAAa,IAGf3G,UAAW,CACT4G,MAAO,CACL,CACE/J,GAAI,EACJoH,KAAM,YACL,CACDpH,GAAI,EACJoH,KAAM,cACL,CACDpH,GAAI,EACJoH,KAAM,cACL,CACDpH,GAAI,EACJoH,KAAM,mBAMC7H,MACfwE,OAAOxE,MAAQA,G,+RCjETyK,EAAS,iBACTC,EAAW,mBAGJC,EAAY,SAAA9I,GAAM,MAAK,CAAExB,KATX,sBAS8BwB,WAC5CgB,EAAgB,SAAAC,GAAU,MAAK,CAAEzC,KATf,0BASsCyC,eACxD8H,EAAY,SAAA9I,GAAM,MAAK,CAAEzB,KATZ,qBAS8ByB,WAC3C+I,EAA4B,SAAAC,GAAsB,MAAK,CAAEzK,KATzB,wCAS8DyK,2BAE9FC,EAAc,SAAClJ,GAAD,MAAa,CAAExB,KAAMoK,EAAQ5I,WAC3CmJ,EAAgB,SAACnJ,GAAD,MAAa,CAAExB,KAAMqK,EAAU7I,WAEtD9B,EAAY,CAChBkL,mBAAmB,EACnBC,YAAa,GACbrJ,OAAQ,EACRsJ,UAAU,EACVL,wBAAwB,EACxBhJ,OAAQ,IAGJsJ,EAAe,uCAAG,WAAOvJ,EAAQzB,GAAf,eAAAmC,EAAA,sEAEpBnC,EAASyC,GAAc,IAFH,SAGGzB,IAAIiK,eAAexJ,GAHtB,OAGdW,EAHc,OAIpBpC,EAtB0C,CAAEC,KAThB,2BASwC6K,YAsB5C1I,EAASlC,OACjCF,EAASuK,EAAU9I,IALC,gDAOpByJ,QAAQrD,MAAM,oBAAd,MAPoB,yBASpB7H,EAASyC,GAAc,IATH,4EAAH,wDAaf0I,EAAgB,uCAAG,WAAO1J,EAAQzB,GAAf,SAAAmC,EAAA,6DACvBnC,EAASyK,GAA0B,IADZ,kBAGEzJ,IAAIoK,cAAc3J,GAHpB,cAIRvB,KACXF,EAAS2K,KAET3K,EAAS4K,KAPU,uBAUrB5K,EAASyK,GAA0B,IAVd,uEAAH,wDAcTY,EAA6B,SAAC5J,GAAD,OAAY,SAACzB,GACrDA,EAzCiC,CAAEC,KATR,0BAmD3B+K,EAAgBvJ,EAAQzB,GACxBmL,EAAiB1J,EAAQzB,KAGdsL,EAAmC,SAAC7J,GAAD,8CAAY,WAAOzB,GAAP,eAAAmC,EAAA,+EAEjCnB,IAAIuK,qBAAqB9J,GAFQ,OAElDW,EAFkD,OAGxDpC,EAASwK,EAAUpI,EAASlC,OAH4B,gDAKxDgL,QAAQrD,MAAM,mBAAd,MALwD,yDAAZ,uDASnC2D,EAAsC,SAAC9J,GAAD,8CAAY,WAAO1B,GAAP,SAAAmC,EAAA,+EAErDnB,IAAIyK,qBAAqB/J,GAF4B,OAG3D1B,EAASwK,EAAU9I,IAHwC,+CAK3DwJ,QAAQrD,MAAM,aAAd,MAL2D,wDAAZ,uDAStC6D,EAAiC,yDAAM,WAAO1L,GAAP,iBAAAmC,EAAA,6DAClDnC,EAASyC,GAAc,IAD2B,kBAGzBzB,IAAI6B,cAHqB,YAG1CT,EAH0C,QAInClC,MAAqC,IAA7BkC,EAASlC,KAAKmC,WAJa,uBAKxCM,EAAWP,EAASlC,MAAQkC,EAASlC,KAAKA,KALF,SAMxC8K,EAAgBrI,EAAStC,GAAIL,GANW,uBAShDA,EAASyC,GAAc,IATyB,yEAAN,uDAiBjCkJ,EAAqB,SAAClK,GAAD,8CAAY,WAAOzB,GAAP,SAAAmC,EAAA,sDAC5CJ,YAAY/B,EAAUgB,IAAI4K,eAAgBnB,EAA2BE,EAAalJ,GADtC,2CAAZ,uDAIrBoK,EAAuB,SAACpK,GAAD,8CAAY,WAAOzB,GAAP,SAAAmC,EAAA,sDAC9CJ,YAAY/B,EAAUgB,IAAI8K,iBAAkBrB,EAA2BG,EAAenJ,GADxC,2CAAZ,uDAmCrB4B,IA/BQ,WAAqC,IAApCzD,EAAmC,uDAA3BD,EAAWS,EAAgB,uDAAP,GAClD,OAAQA,EAAOH,MACb,IAvG2B,0BAwGzB,OAAO,eAAKL,EAAZ,CAAmBiL,kBAAmBzK,EAAOsC,aAE/C,IA5G4B,2BA6G1B,OAAO,eAAK9C,EAAZ,CAAmBkL,YAAa1K,EAAO0K,cAEzC,IA9GuB,sBA+GrB,OAAO,eAAKlL,EAAZ,CAAmB6B,OAAQrB,EAAOqB,SAEpC,IA/GsB,qBAgHpB,OAAO,eAAK7B,EAAZ,CAAmB8B,OAAQtB,EAAOsB,SAEpC,IAjHyC,wCAkHvC,OAAO,eAAK9B,EAAZ,CAAmB8K,uBAAwBtK,EAAOsK,yBAEpD,KAAKL,EACH,OAAO,eAAKzK,EAAZ,CAAmBmL,UAAU,IAE/B,KAAKT,EACH,OAAO,eAAK1K,EAAZ,CAAmBmL,UAAU,IAE/B,IAzHyB,wBA0HvB,OAAO,eAAKnL,EAAZ,CAAmBmL,UAAU,EAAOD,YAAa,KAAMrJ,OAAQ,KAAMC,OAAQ,OAE/E,QACE,OAAO9B,K,qPCjIAmM,EAAqB,iBAOrBC,EAAW,SAAA9B,GAAK,MAAK,CAAEjK,KALX,kBAK4BiK,UAGxCzH,EAAgB,SAAAC,GAAU,MAAK,CAAEzC,KALf,wBAKsCyC,eAE/D/C,EAAY,CAChBuK,MAAO,GACP+B,kBAAkB,GAGdC,EAAgB,SAAC1L,GAAD,MAAW,CAC/BH,GAAG,IAAD,SAAS,IAAI8L,MAASC,SAAS,KACjC5L,OACA6L,SAAUC,MAASC,OAAO,sBAGtBC,EAAQ,uCAAG,WAAOxM,EAAUE,EAAMuM,GAAvB,iBAAAtK,EAAA,+EAEUnB,IAAIwL,SAAStM,GAFvB,OAEPkC,EAFO,OAGbpC,EAASyC,GAAc,IACjByH,EAAQ9H,EAASlC,KAAKA,KAAKgK,MACjClK,EAASgM,EAAS,CAAE9B,WAChBuC,GACFzM,EAAS0M,YAAMD,IAPJ,kDAUbvB,QAAQrD,MAAM,kBAAd,MAVa,0DAAH,0DAcR8E,EAAQ,uCAAG,WAAO3M,GAAP,iBAAAmC,EAAA,sEAEbnC,EAASyC,GAAc,IAFV,SAGUzB,IAAI2L,WAHd,cAGPvK,EAHO,OAIT8H,EAAQ,GACR9H,EAASlC,MAAQkC,EAASlC,KAAKA,OACjCF,EAASyC,GAAc,IACvByH,EAAQ9H,EAASlC,KAAKA,KAAKgK,OAPhB,kBASNA,GATM,yCAWbgB,QAAQrD,MAAM,kBAAd,MAXa,kBAYN,MAZM,0DAAH,sDAgBD+E,EAAuB,iHAAgB,WAAO5M,GAAP,eAAAmC,EAAA,sEAC9BwK,EAAS3M,GADqB,OAC5CkK,EAD4C,OAElDlK,EAASgM,EAAS,CAAE9B,WAF8B,2CAAhB,wDAKvB2C,EAAyB,SAACrM,GAAD,IAAOiB,EAAP,uDAAgB,EAAhB,8CAAsB,WAAOzB,GAAP,eAAAmC,EAAA,sEACtCwK,EAAS3M,GAD6B,QACpDkK,EADoD,SAGxDsC,EAASxM,EAAU,CAAEyB,SAAQyI,MAAM,GAAD,mBAAMA,GAAN,CAAagC,EAAc1L,MAAUuL,GAHf,2CAAtB,wDAOzBe,EAAyB,SAACC,GAAD,IAAStL,EAAT,uDAAkB,EAAlB,8CAAwB,WAAOzB,GAAP,eAAAmC,EAAA,sEAC1CwK,EAAS3M,GADiC,QACxDkK,EADwD,UAG1DA,EAAQA,EAAM8C,QAAO,SAACzL,GAAD,OAAUA,EAAKlB,KAAO0M,KAC3CP,EAASxM,EAAU,CAAEyB,SAAQyI,MAAM,YAAKA,MAJkB,2CAAxB,wDAmCvB3G,IA3BM,WAAqC,IAApC3D,EAAmC,uDAA3BD,EAAWS,EAAgB,uDAAP,GAC1C6M,EAAS,eAAQrN,GACvB,OAAQQ,EAAOH,MACb,IA1EqB,kBA2EnB,OAAO,eACFL,EADL,GAEKQ,EAAO8J,OAGd,IA/EoB,iBAgFlB,OAAO,eACFtK,EADL,CAEEsK,MAAM,GAAD,mBAAMtK,EAAMsK,OAAZ,CAAmB,CAAE7J,GAAIT,EAAMsK,MAAM3J,OAAQC,KAAMJ,EAAOmB,UAGnE,IApFyB,sBAsFvB,OADA0L,EAAU9C,YAAc/J,EAAOmB,KAAKf,KAC7ByM,EAET,IAvF2B,wBAwFzB,OAAO,eAAKrN,EAAZ,CAAmBqM,iBAAkB7L,EAAOsC,aAE9C,QACE,OAAO9C,K,mFCpGAsN,EAA6B,SAAC5G,EAAO6G,EAAWC,EAAaC,GACxE,OAAO/G,EAAME,KAAI,SAAAZ,GACf,OAAIA,EAAKwH,KAAiBD,EACjB,eAAKvH,EAAZ,GAAqByH,GAEhBzH,M,kLCFX,IAKMyE,EAAS,eAIFiD,EAAW,SAAAlD,GAAK,MAAK,CAAEnK,KATlB,kBASmCmK,UACxCmD,EAAoB,SAAAC,GAAc,MAAK,CAAEvN,KATzB,6BASqDuN,mBACrEC,EAAe,SAAAC,GAAS,MAAK,CAAEzN,KATrB,uBAS2CyN,cACrDC,EAAiB,SAAA1M,GAAW,MAAK,CAAEhB,KATvB,yBAS+CgB,gBAC3DwB,EAAgB,SAAAC,GAAU,MAAK,CAAEzC,KATtB,wBAS6CyC,eACxDkL,EAAyB,SAAClL,EAAYjB,GAAb,MAAyB,CAAExB,KAP/B,kCAOgEyC,aAAYjB,WACjGoM,EAAY,SAACpM,GAAD,MAAa,CAAExB,KAAMoK,EAAQ5I,WACzCqM,EAAc,SAACrM,GAAD,MAAa,CAAExB,KAVzB,iBAUyCwB,WAEpD9B,EAAY,CAChByK,MAAO,GACPlJ,SAAU,GACVsM,eAAgB,EAChBvM,YAAa,EACbyB,YAAY,EACZqL,oBAAqB,IAGVC,EAAuB,SAAC/M,EAAaC,GAAd,8CAA2B,WAAOlB,GAAP,mBAAAmC,EAAA,6DAC7DnC,EAASyC,GAAc,IACvBzC,EAASsN,EAAS,KAClBtN,EAASuN,EAAkB,IAHkC,SAKtCvM,IAAIiN,SAAShN,EAAaC,GALY,QAKvDkB,EALuD,QAMhDlC,OACLsN,EAAiBpL,EAASlC,KAAKgO,YAAc,EAC7CR,EAAYS,KAAKC,KAAKZ,EAAiBtM,GAE7ClB,EAASsN,EAASlL,EAASlC,KAAKoG,QAChCtG,EAASuN,EAAkBC,IAC3BxN,EAASyN,EAAaC,IACtB1N,EAAS2N,EAAe1M,IACxBjB,EAASyC,GAAc,KAdoC,2CAA3B,uDAkBvBkJ,EAAqB,SAAClK,GAAD,8CAAY,WAAOzB,GAAP,SAAAmC,EAAA,sDAC5CJ,YAAY/B,EAAUgB,IAAI4K,eAAgBgC,EAAwBC,EAAWpM,GADjC,2CAAZ,uDAIrBoK,EAAuB,SAACpK,GAAD,8CAAY,WAAOzB,GAAP,SAAAmC,EAAA,sDAC9CJ,YAAY/B,EAAUgB,IAAI8K,iBAAkB8B,EAAwBE,EAAarM,GADnC,2CAAZ,uDA4CrBgC,IAxCM,WAAqC,IAApC7D,EAAmC,uDAA3BD,EAAWS,EAAgB,uDAAP,GAChD,OAAQA,EAAOH,MACb,IAvDc,kBAwDZ,OAAO,eAAKL,EAAZ,CAAmBwK,MAAOhK,EAAOgK,QAEnC,IAzDyB,6BA0DvB,OAAO,eAAKxK,EAAZ,CAAmB4N,eAAgBpN,EAAOoN,iBAE5C,IA3DmB,uBA4DjB,OAAO,eAAK5N,EAAZ,CAAmB8N,UAAWtN,EAAOsN,YAEvC,IA7DqB,yBA8DnB,OAAO,eAAK9N,EAAZ,CAAmBqB,YAAab,EAAOa,cAEzC,IA/DoB,wBAgElB,OAAO,eAAKrB,EAAZ,CAAmB8C,WAAYtC,EAAOsC,aAExC,KAAK2H,EACH,OAAO,eACFzK,EADL,CAEEwK,MAAO8C,EAA2BtN,EAAMwK,MAAOhK,EAAOqB,OAAQ,KAAM,CAAEsJ,UAAU,MAEpF,IArEa,iBAsEX,OAAO,eACFnL,EADL,CAEEwK,MAAO8C,EAA2BtN,EAAMwK,MAAOhK,EAAOqB,OAAQ,KAAM,CAAEsJ,UAAU,MAEpF,IAzE8B,kCA0E5B,OAAO,eACFnL,EADL,CAEEmO,oBAAqB3N,EAAOsC,WAAP,sBACb9C,EAAMmO,qBADO,CACc3N,EAAOqB,SACtC7B,EAAMmO,oBAAoBf,QAAO,SAAA3M,GAAE,OAAIA,IAAOD,EAAOqB,YAG7D,QACE,OAAO7B,K,6DCvEEgH,IAnBK,SAAC,GAA8B,EAA5BC,MAA6B,IAAtBwH,EAAqB,EAArBA,KAAS7J,EAAY,gCAC3C8J,EAAYD,EAAKE,SAAWF,EAAKxG,MACvC,OACE,6BACGrD,EAAMgK,SACNF,GACC,yBAAKzM,UAAU,iDACZwM,EAAKxG,W","file":"static/js/main.0c094bf6.chunk.js","sourcesContent":["import state from './state'\r\n\r\nexport const SEND_MESSAGE = 'messages/SEND-MESSAGE'\r\nexport const EDIT_MESSAGE = 'messages/EDIT-MESSAGE'\r\n\r\nexport const sendMessage = data => ({ type: SEND_MESSAGE, data })\r\n\r\nconst initState = state.messagesPage\r\n\r\nexport const sendMessageThunkCreator = (message) => (dispatch) => {\r\n  dispatch(sendMessage(message))\r\n}\r\n\r\nconst messagesReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE: {\r\n      const message = {\r\n        id: state.messages.length,\r\n        text: action.data\r\n      }\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          message\r\n        ]\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default messagesReducer\r\n","import Axios from 'axios'\r\n\r\nexport const LOGIN = 'free@samuraijs.com'\r\nexport const PASSWORD = 'free'\r\nexport const PERSONAL_API_KEY = 'd03460cc-dd7f-425e-86ff-ef080fabbdfa'\r\nexport const BASE_URL = 'https://social-network.samuraijs.com/api/1.0/'\r\nexport const API_KEY = 'd0ce4cd8-d0d2-4152-99ad-f6e1407cb23f'\r\nexport const POSTS_URL = 'https://api.myjson.com/bins/gkloi'\r\n\r\nconst instance = Axios.create(\r\n  {\r\n    withCredentials: true,\r\n    baseURL: BASE_URL,\r\n    headers: {\r\n      'API-KEY': PERSONAL_API_KEY\r\n    }\r\n  }\r\n)\r\n\r\nexport default class API {\r\n  static getUsers (currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n  }\r\n\r\n  static getAuthUser () {\r\n    return instance.get('auth/me')\r\n  }\r\n\r\n  static loginUser (email, password, rememberMe) {\r\n    return instance.post('auth/login', {\r\n      email,\r\n      password,\r\n      rememberMe\r\n    })\r\n  }\r\n\r\n  static logoutUser () {\r\n    return instance.delete('auth/login')\r\n  }\r\n\r\n  static getUserProfile (userId) {\r\n    return instance.get(`profile/${userId}`)\r\n  }\r\n\r\n  static getUserProfileStatus (userId) {\r\n    return instance.get(`profile/status/${userId}`)\r\n  }\r\n\r\n  static putUserProfileStatus (status) {\r\n    return instance.put('profile/status/', { status })\r\n  }\r\n\r\n  static getUserFollow (userId) {\r\n    return instance.get(`follow/${userId}`)\r\n  }\r\n\r\n  static postUserFollow (userId) {\r\n    return instance.post(`follow/${userId}`, { userId })\r\n  }\r\n\r\n  static deleteUserFollow (userId) {\r\n    return instance.delete(`follow/${userId}`, { userId })\r\n  }\r\n\r\n  static getPosts () {\r\n    return Axios.get(POSTS_URL)\r\n  }\r\n\r\n  static putPosts (data) {\r\n    return Axios.put(POSTS_URL, { data })\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className='spinner-border' role='status'>\r\n      <span className='sr-only'>Loading...</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","export const requestData = async (dispatch, method, progressActionCreator, actionCreator, data) => {\r\n  dispatch(progressActionCreator(true, data))\r\n  const response = await method(data)\r\n  if (response.data && response.data.resultCode === 0) {\r\n    dispatch(actionCreator(data))\r\n  }\r\n  dispatch(progressActionCreator(false, data))\r\n}\r\n","import state from './state'\r\n\r\nconst initState = state.navbarPage\r\n\r\nconst navbarReducer = (state = initState, action = {}) => {\r\n  return state\r\n}\r\n\r\nexport default navbarReducer\r\n","import API from './../services/api'\r\nimport { stopSubmit } from 'redux-form'\r\n\r\nexport const LOGIN_FORM_NAME = 'login'\r\n\r\nexport const SET_USER_DATA = 'auth/SET-USER-DATA'\r\nexport const SET_IS_AUTH = 'auth/SET-IS-AUTH'\r\nexport const SET_IS_FETCHING = 'auth/SET-IS-FETCHING'\r\n\r\nexport const setUserData = data => ({ type: SET_USER_DATA, data })\r\nexport const setIsAuth = isAuth => ({ type: SET_IS_AUTH, isAuth })\r\nexport const setAuthIsFetching = isAuth => ({ type: SET_IS_AUTH, isAuth })\r\nexport const setIsFetching = isFetching => ({ type: SET_IS_FETCHING, isFetching })\r\n\r\nconst initState = {\r\n  userData: null,\r\n  isAuth: false,\r\n  isFetching: false\r\n}\r\n\r\nconst getAuthUser = async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n  try {\r\n    const response = await API.getAuthUser()\r\n    const resultCode = response.data && response.data.resultCode\r\n    if (resultCode === 0) {\r\n      dispatch(setUserData({ userData: response.data.data, isAuth: true }))\r\n    } else {\r\n      dispatch(setUserData({ userData: {}, isAuth: false }))\r\n    }\r\n  } finally {\r\n    dispatch(setIsFetching(false))\r\n  }\r\n}\r\n\r\nexport const getAuthUserThunkCreator = () => (dispatch) => {\r\n  getAuthUser(dispatch)\r\n}\r\n\r\nexport const loginUserThunkCreator = (email, password, rememberMe) => async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n\r\n  const response = await API.loginUser(email, password, rememberMe)\r\n  const resultCode = response.data && response.data.resultCode\r\n  if (resultCode === 0) {\r\n    getAuthUser(dispatch)\r\n  } else {\r\n    const error = response.data.messages.length ? response.data.messages[0] : 'Something wrong...'\r\n    dispatch(stopSubmit(LOGIN_FORM_NAME, { _error: error }))\r\n  }\r\n}\r\n\r\nexport const logoutUserThunkCreator = () => async (dispatch) => {\r\n  const response = await API.logoutUser()\r\n  const resultCode = response.data.resultCode\r\n  if (resultCode === 0) {\r\n    dispatch(setUserData({ userData: null, isAuth: false }))\r\n  }\r\n}\r\n\r\nconst authReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n      return { ...state, ...action.data }\r\n    }\r\n    case SET_IS_AUTH: {\r\n      return { ...state, isAuth: action.isAuth }\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import { getAuthUserThunkCreator } from './auth-reducer'\r\n\r\nexport const SET_INIT = 'app/SET-INIT'\r\n\r\nexport const setIsInit = isInit => ({ type: SET_INIT, isInit })\r\n\r\nconst initState = {\r\n  isInit: false\r\n}\r\n\r\nexport const initializeThunkCreator = () => (dispatch) => {\r\n  const promise = dispatch(getAuthUserThunkCreator())\r\n  Promise.all([promise]).then(\r\n    dispatch(setIsInit(true)))\r\n}\r\n\r\nconst appReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_INIT: {\r\n      return { ...state, isInit: action.isInit }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default appReducer\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport ThunkMiddleWare from 'redux-thunk'\r\nimport { reducer as FormReducer } from 'redux-form'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport profileReducer from './profile-reducer'\r\nimport navbarReducer from './navbar-reducer'\r\nimport postsReducer from './posts-reducer'\r\nimport messagesReducer from './messages-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  postsPage: postsReducer,\r\n  messagesPage: messagesReducer,\r\n  usersPage: usersReducer,\r\n  navbarPage: navbarReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: FormReducer\r\n})\r\n\r\n// const store = createStore(reducers, applyMiddleware(ThunkMiddleWare))\r\n\r\nconst composeEnhancers = composeWithDevTools({\r\n  // Specify name here, actionsBlacklist, actionsCreators and other options if needed\r\n})\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(\r\n  applyMiddleware(ThunkMiddleWare)\r\n  // other store enhancers if any\r\n))\r\nwindow.reduxStore = store\r\nexport default store\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Preloader from '../common/Preloader/Preloader'\r\n\r\nexport const withSuspense = (Component) => (props) => <React.Suspense fallback={<Preloader />}><Component {...props} /></React.Suspense>\r\n\r\nwithSuspense.propTypes = {\r\n  Component: PropTypes.object\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button, Navbar } from 'reactstrap'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Header = ({ userData, isAuth, handleLogout }) => (\r\n  <header className='app-header'>\r\n    <div className='login-box'>\r\n      <Navbar className='m1-auto top-nav'>\r\n        <nav className='nav'>\r\n          <li className='nav-item'><span className='nav-item-title'> {userData && userData.login} </span></li>\r\n        </nav>\r\n        <nav>\r\n          <li className='nav-item'>{isAuth && <Button color='secondary' onClick={handleLogout}>Logout</Button>}</li>\r\n        </nav>\r\n        <nav>\r\n          <li className='nav-item'>{!isAuth && <NavLink to='/login'>Login</NavLink>}</li>\r\n        </nav>\r\n      </Navbar>\r\n    </div>\r\n  </header>\r\n)\r\n\r\nHeader.propTypes = {\r\n  userData: PropTypes.object,\r\n  isAuth: PropTypes.bool,\r\n  handleLogout: PropTypes.func\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nconst Auth = () => {\r\n  return (\r\n    <div> </div>\r\n  )\r\n}\r\n\r\nexport default Auth\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  setUserData,\r\n  getAuthUserThunkCreator,\r\n  logoutUserThunkCreator\r\n} from '../../redux/auth-reducer'\r\nimport Header from './Header'\r\nimport Auth from './Auth'\r\n\r\nconst HeaderContainer = ({ userData, isAuth, logoutUser }) => (\r\n  <div>\r\n    <Auth userData={userData} handleLogout={logoutUser} />\r\n    <Header userData={userData} handleLogout={logoutUser} isAuth={isAuth} />\r\n  </div>)\r\n\r\nHeaderContainer.propTypes = {\r\n  userData: PropTypes.object,\r\n  isAuth: PropTypes.bool,\r\n  logoutUser: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userData: state.auth.userData,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n  setUserData,\r\n  getAuthUser: getAuthUserThunkCreator,\r\n  logoutUser: logoutUserThunkCreator\r\n})(HeaderContainer)\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst NavbarLogo = (props) => {\r\n  return (\r\n    <div className='site-logo-bar'>\r\n      <NavLink to='/' className='navbar-brand'>\r\n        {props.logo && <img src={props.logo} alt='' />}\r\n        {props.logoText && <span className='logo-text'>{props.logoText}</span>}\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nNavbarLogo.propTypes = {\r\n  logo: PropTypes.string,\r\n  logoText: PropTypes.string\r\n}\r\n\r\nexport default NavbarLogo\r\n","import React from 'react'\r\n\r\nconst NavbarSpacer = () => {\r\n  return <li className='nav-item nav-item-spacer' />\r\n}\r\n\r\nexport default NavbarSpacer\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport * as Feather from 'react-feather'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst NavbarItem = (props) => {\r\n  const url = props.item.link.charAt(0) === '/' ? props.item.link : `/${props.item.link}`\r\n  const Icon = props.item.icon && Feather[props.item.icon] ? Feather[props.item.icon] : null\r\n  return (\r\n    <li className='nav-item'>\r\n      <NavLink to={url} activeClassName='active'>\r\n        {props.item.icon && Icon && <Icon className='side-nav-icon' />}\r\n        <span className='nav-item-label'>{props.item.title}</span>\r\n      </NavLink>\r\n    </li>\r\n  )\r\n}\r\n\r\nNavbarItem.propTypes = {\r\n  item: PropTypes.object\r\n}\r\n\r\nexport default NavbarItem\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport NavbarLogo from './NavbarLogo'\r\nimport NavbarSpacer from './NavbarSpacer'\r\nimport NavbarItem from './NavbarItem'\r\n\r\n// const LOGO = './../../imgs/logo.png'\r\nconst LOGO = 'https://www.freelogodesign.org/Content/img/logo-ex-7.png'\r\nconst LOGO_TEXT = 'this is a logo'\r\n\r\nclass Navbar extends Component {\r\n  constructor (props) {\r\n    super()\r\n    this.state = {\r\n      menu: props.menu\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const items = this.state.menu.items.map((item, i) => (\r\n      <div key={i}>\r\n        <NavbarItem item={item} />\r\n        <NavbarSpacer />\r\n      </div>\r\n    ))\r\n    return (\r\n      <nav className='app-sidebar'>\r\n        <NavbarLogo logo={LOGO} logoText={LOGO_TEXT} />\r\n        {items}\r\n      </nav>\r\n    )\r\n  }\r\n};\r\n\r\nNavbar.propTypes = {\r\n  menu: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  menu: state.navbarPage.menu\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(Navbar)\r\n","import Navbar from './Navbar'\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapStateToProps = (state) => ({\r\n  menu: state.navbarPage.menu\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(Navbar)\r\n","import React from 'react'\r\nimport FormControl from './FormControl'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Input = (props) => (\r\n  <FormControl {...props}> <input {...props.input} {...props} /> </FormControl>\r\n)\r\n\r\nInput.propTypes = {\r\n  input: PropTypes.object\r\n}\r\n\r\nexport default Input\r\n","import React from 'react'\r\nimport { Field } from 'redux-form'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport const LoginFormInput = ({ component = 'input', fieldName, type = 'input', placeholder, autocomplete, validate, required, autoFocus, label = '' }) =>\r\n  (\r\n    <div className='form-group row'>\r\n      {label && <label htmlFor={fieldName} className='col-md-4 col-form-label text-md-right'>{label}</label>}\r\n      <div className='col-md-6'>\r\n        <Field\r\n          placeholder={placeholder}\r\n          component={component}\r\n          type={type}\r\n          name={fieldName}\r\n          autoComplete={autocomplete}\r\n          className='form-control'\r\n          validate={validate}\r\n          required={required}\r\n          autoFocus={autoFocus}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\nLoginFormInput.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType, PropTypes.object, PropTypes.string]),\r\n  fieldName: PropTypes.string,\r\n  type: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  autocomplete: PropTypes.string,\r\n  validate: PropTypes.array,\r\n  required: PropTypes.bool,\r\n  autoFocus: PropTypes.bool,\r\n  label: PropTypes.string\r\n}\r\n\r\nexport const LoginFormCheckBox = ({ component, fieldName, type = 'checkbox', label = '' }) => (\r\n  <div className='form-group row'>\r\n    <div className='col-md-6 offset-md-4'>\r\n      <div className='checkbox'>\r\n        <label>\r\n          <Field component={component} type={type} name={fieldName} /> {label}\r\n        </label>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\nLoginFormCheckBox.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType, PropTypes.object, PropTypes.string]),\r\n  fieldName: PropTypes.string,\r\n  type: PropTypes.string,\r\n  label: PropTypes.string\r\n}\r\n\r\nexport const LoginFormError = ({ error }) => (\r\n  <div className='form-group row'>\r\n    <div className='col-md-6 offset-md-4'>\r\n      <p className='text-danger'> {error} </p>\r\n    </div>\r\n  </div>\r\n)\r\nLoginFormError.propTypes = {\r\n  error: PropTypes.string\r\n}\r\n\r\nexport const LoginFormButton = ({ name }) => (\r\n  <div className='col-md-6 offset-md-4'>\r\n    <button type='submit' className='btn btn-primary'>\r\n      {name}\r\n    </button>\r\n  </div>\r\n)\r\nLoginFormButton.propTypes = {\r\n  name: PropTypes.string\r\n}\r\n","import React from 'react'\r\nimport { reduxForm } from 'redux-form'\r\nimport PropTypes from 'prop-types'\r\nimport Input from './../common/FormControls/Input'\r\n// import { required } from './../../utils/validators/validators'\r\nimport { LOGIN_FORM_NAME } from './../../redux/auth-reducer'\r\nimport { LoginFormInput, LoginFormCheckBox, LoginFormError, LoginFormButton } from './LoginFormFields'\r\n\r\nconst LoginForm = ({ error, handleSubmit }) => (\r\n  <form onSubmit={() => { handleSubmit() }}>\r\n\r\n    <LoginFormInput\r\n      component={Input}\r\n      fieldName='email'\r\n      type='input'\r\n      placeholder='Email'\r\n      autoComplete='current-email'\r\n      //    validate={[required]}\r\n      required\r\n      autoFocus\r\n      label='E-Mail Address'\r\n    />\r\n\r\n    <LoginFormInput\r\n      component={Input}\r\n      fieldName='password'\r\n      placeholder='Password'\r\n      type='password'\r\n      autoComplete='current-password'\r\n      //    validate={[required]}\r\n      required\r\n      autoFocus\r\n      label='Password'\r\n    />\r\n\r\n    <LoginFormCheckBox component='input' fieldName='rememberMe' type='checkbox' label='Remember Me' />\r\n\r\n    {error && <LoginFormError error={error} />}\r\n\r\n    <LoginFormButton name='Login' />\r\n\r\n  </form>)\r\n\r\nLoginForm.propTypes = {\r\n  error: PropTypes.string,\r\n  handleSubmit: PropTypes.func\r\n}\r\n\r\nexport default reduxForm({ form: LOGIN_FORM_NAME })(LoginForm)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport LoginFrom from './LoginForm'\r\n\r\nconst Login = ({ handleLoginUser }) => {\r\n  const handleLoginSubmit = (values) => {\r\n    if (values.email && values.password) {\r\n      handleLoginUser(values.email, values.password, !!values.rememberMe)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className='login-form'>\r\n      <div className='container'>\r\n        <div className='row justify-content-center'>\r\n          <div className='col-md-8'>\r\n            <div className='card'>\r\n              <div className='card-header'>Login</div>\r\n              <div className='card-body'>\r\n                <LoginFrom onSubmit={handleLoginSubmit} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n  handleLoginUser: PropTypes.func\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  setUserData,\r\n  getAuthUserThunkCreator,\r\n  loginUserThunkCreator\r\n} from '../../redux/auth-reducer'\r\nimport Login from './Login'\r\n// import { Redirect } from 'react-router-dom'\r\nimport Preloader from '../common/Preloader/Preloader'\r\n\r\nconst LoginContainer = ({ loginUser, isFetching, isAuth }) => {\r\n  if (isFetching) return <Preloader />\r\n\r\n  if (isAuth) return null\r\n  return <Login handleLoginUser={loginUser} />\r\n}\r\n\r\nLoginContainer.propTypes = {\r\n  isAuth: PropTypes.bool,\r\n  isFetching: PropTypes.bool,\r\n  loginUser: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userData: state.usersPage.userData,\r\n  isAuth: state.auth.isAuth,\r\n  isFetching: state.auth.isFetching\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n  setUserData,\r\n  getAuthUser: getAuthUserThunkCreator,\r\n  loginUser: loginUserThunkCreator\r\n})(LoginContainer)\r\n","import React from 'react'\nimport { Route, withRouter } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n// import './App.css'\nimport './scss/styles.scss'\nimport { compose } from 'redux'\nimport { connect } from 'react-redux'\nimport { initializeThunkCreator } from './redux/app-reducer'\nimport { withSuspense } from './components/hoc/withSuspense'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport NavbarContainer from './components/Navbar/NavbarContainer'\nimport LoginContainer from './components/Login/LoginContainer'\nimport Preloader from './components/common/Preloader/Preloader'\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst PostsContainer = React.lazy(() => import('./components/Posts/PostsContainer'))\nconst MessagesContainer = React.lazy(() => import('./components/Messages/MessagesContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\n\nclass App extends React.Component {\n  componentDidMount () {\n    this.props.initialize()\n  }\n\n  render () {\n    if (!this.props.isInit) {\n      return <Preloader />\n    }\n\n    return (\n      <React.Suspense fallback={<Preloader />}>\n        <div className='app-body'>\n          <NavbarContainer />\n          <div className='page-content'>\n            <HeaderContainer />\n            <div className='primary-content' role='main' tabIndex='-1'>\n              <Route path='/login' render={() => <LoginContainer />} />\n              <Route path='/profile/:userId' render={withSuspense(ProfileContainer)} />\n              <Route path='/myprofile/' render={withSuspense(ProfileContainer)} />\n              <Route path='/posts' render={withSuspense(PostsContainer)} />\n              <Route path='/messages' render={withSuspense(MessagesContainer)} />\n              <Route path='/users' render={withSuspense(UsersContainer)} />\n            </div>\n          </div>\n        </div>\n      </React.Suspense>\n    )\n  }\n}\n\nApp.propTypes = {\n  isInit: PropTypes.bool,\n  initialize: PropTypes.func\n}\n\nconst mapStateToProps = (state) => ({\n  isInit: state.app.isInit\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initialize: initializeThunkCreator }))(App)\n","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport store from './redux/redux-store'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\n// import './index.css'\n\nconst render = () => {\n  ReactDOM.render(\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>,\n    document.getElementById('root'))\n}\nstore.subscribe(render)\nrender()\n","const state = {\r\n  navbarPage: {\r\n    menu: {\r\n      items: [\r\n        {\r\n          title: 'Profile',\r\n          link: '/myprofile'\r\n        },\r\n        {\r\n          title: 'Posts',\r\n          link: '/posts'\r\n        },\r\n        {\r\n          title: 'Messages',\r\n          link: '/messages'\r\n        },\r\n        /*         {\r\n          title: 'Friends',\r\n          link: '/friends'\r\n        }, */\r\n        {\r\n          title: 'Users',\r\n          link: '/users'\r\n        }\r\n        /*        {\r\n          title: 'Settings',\r\n          link: '/settings'\r\n        } */\r\n      ]\r\n    }\r\n  },\r\n  messagesPage: {\r\n    dialogs: [\r\n      { id: 1, user: 'John' },\r\n      { id: 2, user: 'Mark' },\r\n      { id: 3, user: 'Helen' },\r\n      { id: 4, user: 'Lucy' }\r\n    ],\r\n    messages: [\r\n      { id: '1', text: 'Hello' },\r\n      { id: '2', text: 'How are you?' },\r\n      { id: '3', text: 'Do you know React?' }\r\n    ]\r\n  },\r\n\r\n  profilePage: {\r\n    posts: [\r\n      { id: '1', text: 'my post 1' },\r\n      { id: '2', text: 'my post 2' },\r\n      { id: '3', text: 'my post 3' },\r\n      { id: '4', text: 'my post 4' }\r\n    ],\r\n    newPostText: ''\r\n  },\r\n\r\n  usersPage: {\r\n    users: [\r\n      {\r\n        id: 1,\r\n        name: 'John Doe'\r\n      }, {\r\n        id: 2,\r\n        name: 'Anna Miles'\r\n      }, {\r\n        id: 3,\r\n        name: 'Kate Smith'\r\n      }, {\r\n        id: 4,\r\n        name: 'Jack Jackson'\r\n      }\r\n    ]\r\n  }\r\n}\r\n\r\nexport default state\r\nwindow.state = state\r\n","\r\nimport API from './../services/api'\r\nimport { requestData } from './generic'\r\n\r\nexport const SET_USER_PROFILE = 'profile/SET-USER-PROFILE'\r\nexport const SET_USER_ID = 'profile/SET-USER-ID'\r\nexport const SET_IS_FETCHING = 'profile/SET-IS-FETCHING'\r\nexport const SET_STATUS = 'profile/SET-STATUS'\r\nexport const SET_IS_FOLLOW_STATUS_FETCHING = 'profile/SET-IS-FOLLOW-STATUS-FETCHING'\r\nexport const RESET_PROFILE = 'profile/RESET-PROFILE'\r\nconst FOLLOW = 'profile/FOLLOW'\r\nconst UNFOLLOW = 'profile/UNFOLLOW'\r\n\r\nexport const setUserProfile = userProfile => ({ type: SET_USER_PROFILE, userProfile })\r\nexport const setUserId = userId => ({ type: SET_USER_ID, userId })\r\nexport const setIsFetching = isFetching => ({ type: SET_IS_FETCHING, isFetching })\r\nexport const setStatus = status => ({ type: SET_STATUS, status })\r\nexport const setIsFollowStatusFetching = isFollowStatusFetching => ({ type: SET_IS_FOLLOW_STATUS_FETCHING, isFollowStatusFetching })\r\nexport const resetProfile = () => ({ type: RESET_PROFILE })\r\nexport const setFollowed = (userId) => ({ type: FOLLOW, userId })\r\nexport const setUnfollowed = (userId) => ({ type: UNFOLLOW, userId })\r\n\r\nconst initState = {\r\n  isProfileFetching: false,\r\n  userProfile: {},\r\n  userId: 2,\r\n  followed: false,\r\n  isFollowStatusFetching: false,\r\n  status: ''\r\n}\r\n\r\nconst _getUserProfile = async (userId, dispatch) => {\r\n  try {\r\n    dispatch(setIsFetching(true))\r\n    const response = await API.getUserProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n    dispatch(setUserId(userId))\r\n  } catch (error) {\r\n    console.error('get profile error', error)\r\n  } finally {\r\n    dispatch(setIsFetching(false))\r\n  }\r\n}\r\n\r\nconst _getFollowStatus = async (userId, dispatch) => {\r\n  dispatch(setIsFollowStatusFetching(true))\r\n  try {\r\n    const response = await API.getUserFollow(userId)\r\n    if (response.data) {\r\n      dispatch(setFollowed())\r\n    } else {\r\n      dispatch(setUnfollowed())\r\n    }\r\n  } finally {\r\n    dispatch(setIsFollowStatusFetching(false))\r\n  }\r\n}\r\n\r\nexport const getUserProfileThunkCreator = (userId) => (dispatch) => {\r\n  dispatch(resetProfile())\r\n  _getUserProfile(userId, dispatch)\r\n  _getFollowStatus(userId, dispatch)\r\n}\r\n\r\nexport const getUserProfileStatusThunkCreator = (userId) => async (dispatch) => {\r\n  try {\r\n    const response = await API.getUserProfileStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n  } catch (error) {\r\n    console.error('get status error', error)\r\n  }\r\n}\r\n\r\nexport const changeUserProfileStatusThunkCreator = (status) => async (dispatch) => {\r\n  try {\r\n    await API.putUserProfileStatus(status)\r\n    dispatch(setStatus(status))\r\n  } catch (error) {\r\n    console.error('put status', error)\r\n  }\r\n}\r\n\r\nexport const getAuthUserProfileThunkCreator = () => async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n  try {\r\n    const response = await API.getAuthUser()\r\n    if (response.data && response.data.resultCode === 0) {\r\n      const userData = response.data && response.data.data\r\n      await _getUserProfile(userData.id, dispatch)\r\n    }\r\n  } finally {\r\n    dispatch(setIsFetching(false))\r\n  }\r\n}\r\n\r\nexport const getUserFollowStatusThunkCreator = (userId) => (dispatch) => {\r\n  _getFollowStatus(userId, dispatch)\r\n}\r\n\r\nexport const followThunkCreator = (userId) => async (dispatch) => {\r\n  requestData(dispatch, API.postUserFollow, setIsFollowStatusFetching, setFollowed, userId)\r\n}\r\n\r\nexport const unfollowThunkCreator = (userId) => async (dispatch) => {\r\n  requestData(dispatch, API.deleteUserFollow, setIsFollowStatusFetching, setUnfollowed, userId)\r\n}\r\n\r\nconst profileReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, isProfileFetching: action.isFetching }\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return { ...state, userProfile: action.userProfile }\r\n    }\r\n    case SET_USER_ID: {\r\n      return { ...state, userId: action.userId }\r\n    }\r\n    case SET_STATUS: {\r\n      return { ...state, status: action.status }\r\n    }\r\n    case SET_IS_FOLLOW_STATUS_FETCHING: {\r\n      return { ...state, isFollowStatusFetching: action.isFollowStatusFetching }\r\n    }\r\n    case FOLLOW: {\r\n      return { ...state, followed: true }\r\n    }\r\n    case UNFOLLOW: {\r\n      return { ...state, followed: false }\r\n    }\r\n    case RESET_PROFILE: {\r\n      return { ...state, followed: false, userProfile: null, userId: null, status: null }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","\r\nimport moment from 'moment'\r\nimport API from '../services/api'\r\nimport { reset } from 'redux-form'\r\n\r\nexport const NEW_POST_FORM_NAME = 'profileNewPost'\r\n\r\nexport const SET_POSTS = 'posts/SET-POSTS'\r\nexport const ADD_POST = 'posts/ADD-POST'\r\nexport const EDIT_NEW_POST = 'posts/EDIT-NEW-POST'\r\nexport const SET_IS_FETCHING = 'posts/SET-IS-FETCHING'\r\n\r\nexport const setPosts = posts => ({ type: SET_POSTS, posts })\r\nexport const addPost = post => ({ type: ADD_POST, post })\r\nexport const editPost = post => ({ type: EDIT_NEW_POST, post })\r\nexport const setIsFetching = isFetching => ({ type: SET_IS_FETCHING, isFetching })\r\n\r\nconst initState = {\r\n  posts: [],\r\n  arePostsFetching: false\r\n}\r\n\r\nconst createNewPost = (text) => ({\r\n  id: `f${(+(new Date())).toString(16)}`,\r\n  text,\r\n  datetime: moment().format('YYYY-MM-DD HH:mm')\r\n})\r\n\r\nconst putPosts = async (dispatch, data, formName) => {\r\n  try {\r\n    const response = await API.putPosts(data)\r\n    dispatch(setIsFetching(false))\r\n    const posts = response.data.data.posts\r\n    dispatch(setPosts({ posts }))\r\n    if (formName) {\r\n      dispatch(reset(formName))\r\n    }\r\n  } catch (error) {\r\n    console.error('put posts error', error)\r\n  }\r\n}\r\n\r\nconst getPosts = async (dispatch) => {\r\n  try {\r\n    dispatch(setIsFetching(true))\r\n    const response = await API.getPosts()\r\n    let posts = []\r\n    if (response.data && response.data.data) {\r\n      dispatch(setIsFetching(false))\r\n      posts = response.data.data.posts\r\n    }\r\n    return posts\r\n  } catch (error) {\r\n    console.error('get posts error', error)\r\n    return null\r\n  }\r\n}\r\n\r\nexport const getPostsThunkCreator = (userId = 1) => async (dispatch) => {\r\n  const posts = await getPosts(dispatch)\r\n  dispatch(setPosts({ posts }))\r\n}\r\n\r\nexport const addNewPostThunkCreator = (text, userId = 1) => async (dispatch) => {\r\n  const posts = await getPosts(dispatch)\r\n  if (posts) {\r\n    putPosts(dispatch, { userId, posts: [...posts, createNewPost(text)] }, NEW_POST_FORM_NAME)\r\n  }\r\n}\r\n\r\nexport const deletePostThunkCreator = (postId, userId = 1) => async (dispatch) => {\r\n  let posts = await getPosts(dispatch)\r\n  if (posts) {\r\n    posts = posts.filter((post) => post.id !== postId)\r\n    putPosts(dispatch, { userId, posts: [...posts] })\r\n  }\r\n}\r\n\r\nconst postsReducer = (state = initState, action = {}) => {\r\n  const stateCopy = { ...state }\r\n  switch (action.type) {\r\n    case SET_POSTS: {\r\n      return {\r\n        ...state,\r\n        ...action.posts\r\n      }\r\n    }\r\n    case ADD_POST: {\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, { id: state.posts.length, text: action.post }]\r\n      }\r\n    }\r\n    case EDIT_NEW_POST: {\r\n      stateCopy.newPostText = action.post.text\r\n      return stateCopy\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, arePostsFetching: action.isFetching }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default postsReducer\r\n","\r\nexport const updateObjectInArrayByValue = (items, itemValue, objPropName, newObjProps) => {\r\n  return items.map(item => {\r\n    if (item[objPropName] === itemValue) {\r\n      return { ...item, ...newObjProps }\r\n    }\r\n    return item\r\n  })\r\n}\r\n","import API from '../services/api'\r\nimport { updateObjectInArrayByValue } from './../utils/helpers/objects'\r\nimport { requestData } from './generic'\r\n\r\nconst SET_USERS = 'users/SET-USERS'\r\nconst SET_TOTAL_USER_COUNT = 'users/SET-TOTAL-USER-COUNT'\r\nconst SET_PAGE_COUNT = 'users/SET-PAGE-COUNT'\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE'\r\nconst SET_IS_FETCHING = 'users/SET-IS-FETCHING'\r\nconst FOLLOW = 'users/FOLLOW'\r\nconst UNFOLLOW = 'users/UNFOLLOW'\r\nconst SET_IS_FOLLOWING_PROGRESS = 'users/SET_IS_FOLLOWING_PROGRESS'\r\n\r\nexport const setUsers = users => ({ type: SET_USERS, users })\r\nexport const setTotalUserCount = totalUserCount => ({ type: SET_TOTAL_USER_COUNT, totalUserCount })\r\nexport const setPageCount = pageCount => ({ type: SET_PAGE_COUNT, pageCount })\r\nexport const setCurrentPage = currentPage => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setIsFetching = isFetching => ({ type: SET_IS_FETCHING, isFetching })\r\nexport const setIsFollowingProgress = (isFetching, userId) => ({ type: SET_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\nexport const setFollow = (userId) => ({ type: FOLLOW, userId })\r\nexport const setUnfollow = (userId) => ({ type: UNFOLLOW, userId })\r\n\r\nconst initState = {\r\n  users: [],\r\n  pageSize: 50,\r\n  totalUserCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n}\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n  dispatch(setUsers([]))\r\n  dispatch(setTotalUserCount(0))\r\n\r\n  const response = await API.getUsers(currentPage, pageSize)\r\n  if (response.data) {\r\n    const totalUserCount = response.data.totalCount || 0\r\n    const pageCount = Math.ceil(totalUserCount / pageSize)\r\n\r\n    dispatch(setUsers(response.data.items))\r\n    dispatch(setTotalUserCount(totalUserCount))\r\n    dispatch(setPageCount(pageCount))\r\n    dispatch(setCurrentPage(currentPage))\r\n    dispatch(setIsFetching(false))\r\n  }\r\n}\r\n\r\nexport const followThunkCreator = (userId) => async (dispatch) => {\r\n  requestData(dispatch, API.postUserFollow, setIsFollowingProgress, setFollow, userId)\r\n}\r\n\r\nexport const unfollowThunkCreator = (userId) => async (dispatch) => {\r\n  requestData(dispatch, API.deleteUserFollow, setIsFollowingProgress, setUnfollow, userId)\r\n}\r\n\r\nconst usersReducer = (state = initState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users }\r\n    }\r\n    case SET_TOTAL_USER_COUNT: {\r\n      return { ...state, totalUserCount: action.totalUserCount }\r\n    }\r\n    case SET_PAGE_COUNT: {\r\n      return { ...state, pageCount: action.pageCount }\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage }\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArrayByValue(state.users, action.userId, 'id', { followed: true })\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArrayByValue(state.users, action.userId, 'id', { followed: false })\r\n      }\r\n    case SET_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst FormControl = ({ input, meta, ...props }) => {\r\n  const isInvalid = meta.touched && meta.error\r\n  return (\r\n    <div>\r\n      {props.children}\r\n      {isInvalid &&\r\n        <div className='inline m-b-none m-t-none abs invalid-feedback'>\r\n          {meta.error}\r\n        </div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nFormControl.propTypes = {\r\n  children: PropTypes.array,\r\n  input: PropTypes.object,\r\n  meta: PropTypes.object\r\n}\r\n\r\nexport default FormControl\r\n"],"sourceRoot":""}